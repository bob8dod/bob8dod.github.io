I"¯å<h2 id="validationì˜-í•„ìš”ì„±">Validationì˜ í•„ìš”ì„±</h2>

<ul>
  <li>ì›¹ ì„œë¹„ìŠ¤ëŠ” ì–´ë–¤ ìƒí™©ì´ë“  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´, ê·¸ <strong>ì˜¤ë¥˜ì— ëŒ€í•œ ì²˜ë¦¬ëŠ” í•„ìˆ˜</strong></li>
  <li>íŠ¹íˆ Form ì…ë ¥ ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´, ì…ë ¥ëœ <strong>ë°ì´í„°ë¥¼ ìœ ì§€í•œ ìƒíƒœ</strong>ë¡œ <strong>ì–´ë–¤ ì˜¤ë¥˜ê°€ ë°œìƒ</strong>í–ˆëŠ”ì§€ ì¹œì ˆí•˜ê²Œ ì•Œë ¤ì£¼ì–´ ì‚¬ìš©ìì˜ í¸ì˜ì„±ì„ ë†’ì—¬ì•¼ ë¨</li>
  <li>ì´ëŸ° ê²€ì¦ ìì²´ëŠ” <strong>Controllerì—ì„œ íŒë‹¨</strong>í•˜ê³  ê·¸ ê²°ê³¼ì— ë”°ë¼ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •ë˜ì–´ì•¼ í•¨</li>
</ul>

<aside>
âš ï¸ <strong>Client Validation VS Server Validation</strong>
<ul>
<li><strong>Client Validation</strong></li>
    <ul>
    <li>ì¦‰ê°ì ì¸ ì˜¤ë¥˜ ê²€ì¦ ê°€ëŠ¥ â†’ ì‚¬ìš©ì„± ì¦ê°€</li>
    <li>ì™¸ë¶€ì ìœ¼ë¡œ ì¡°ì‘ì´ ê°€ëŠ¥í•˜ë©°, ë³´ì•ˆì— ì·¨ì•½</li>
    <li>JavaScript ë“±ìœ¼ë¡œ ë™ì‘</li>
    </ul>
<li><strong>Server Validation</strong></li>
    <ul>
    <li>ì¦‰ê°ì ì¸ ì˜¤ë¥˜ ê²€ì¦ ë¶ˆê°€ëŠ¥ (Client Validationì— ë¹„í•´)</li>
    <li>ì™¸ë¶€ì ì¸ ì¡°ì‘ì´ ë¶ˆê°€ëŠ¥, ë³´ì•ˆì— ê°•í•¨</li>
    <li>Controller ë‹¨ì—ì„œ ì‹¤í–‰</li>
    <li>API ë°©ì‹ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥ (API ìŠ¤í™ì„ ì˜ ì •ì˜í•´ì„œ ê²€ì¦ ì˜¤ë¥˜ë¥¼ API ì‘ë‹µ ê²°ê³¼ì— ì˜ ë‚¨ê²¨ì£¼ì–´ì•¼ í•¨ )</li>
    </ul>
<b>ê²°ë¡  : ë‘˜ì„ ì ì ˆíˆ ì„ì–´ì„œ ì‚¬ìš©í•˜ë˜, ë³´ì•ˆì„ ìœ„í•´ ìµœì¢…ì ìœ¼ë¡œ ì„œë²„ ê²€ì¦ì€ í•„ìˆ˜</b>
</ul>
</aside>

<h2 id="validation-êµ¬í˜„">Validation êµ¬í˜„</h2>

<ul>
  <li>Springì´ë‚˜ Thymeleafì—ì„œ ì§€ì›í•˜ëŠ” ê²€ì¦ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  <strong>ì§ì ‘ Validationì„ ì²˜ë¦¬</strong>í•´ë³´ê¸° <strong>(ì›ë¦¬ë¥¼ ì´í•´í•˜ê¸° ìœ„í•¨)</strong></li>
  <li>Validation ë¡œì§ - ì›ë¦¬
    <ul>
      <li>
        <p>ê¸°ì¡´ì— ì˜¤ë¥˜ ì—†ì´ ì„œë²„ë¡œ ê°’ì´ ì „ë‹¬ë  ë•Œ (<strong>ê²€ì¦ í†µê³¼ ë¡œì§</strong>)</p>

        <p><img src="/images/posts/post-220522/Untitled.png" alt="" /></p>

        <ol>
          <li>ìƒí’ˆ ë“±ë¡ í¼ì„ ìš”ì²­í•˜ë©´ ìƒí’ˆ ë“±ë¡ í¼ì„ ë°›ê²Œë¨</li>
          <li>ìƒí’ˆ ì €ì¥ ì‹œ ì…ë ¥ëœ ê°’ë“¤ì— ëŒ€í•´ <strong>ì˜¤ë¥˜ê°€ ì—†ë‹¤ë©´</strong> ê·¸ëŒ€ë¡œ ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ë¡œ <strong>Redirect</strong> ë¨</li>
          <li><strong>Redirect</strong>ë¡œ ì¸í•´ ìƒí’ˆìƒì„¸ í˜ì´ì§€ë¥¼ ë°›ê²Œ ë¨ <strong>(PRG- Post, Redirect, Get)</strong></li>
        </ol>
      </li>
      <li>
        <p><strong>ì˜¤ë¥˜ ë°œìƒ (ê²€ì¦ ë¯¸í†µê³¼ ë¡œì§)</strong></p>

        <p><img src="/images/posts/post-220522/Untitled 1.png" alt="" /></p>

        <ol>
          <li>ìƒí’ˆ ë“±ë¡ í¼ì„ ìš”ì²­í•˜ë©´ ìƒí’ˆ ë“±ë¡ í¼ì„ ë°›ê²Œë¨</li>
          <li>ìƒí’ˆ ì €ì¥ ì‹œ ì…ë ¥ëœ ê°’ë“¤ì— ëŒ€í•´ <strong>ì˜¤ë¥˜ê°€ ë°œìƒ</strong>í•˜ë©´ <strong>ê²€ì¦ì— ë”°ë¥¸ ë¡œì§ ì‹¤í–‰</strong></li>
          <li>í˜„ì¬ <strong>ì…ë ¥ëœ ê°’ë“¤(ì˜¤ë¥˜ë¥¼ í¬í•¨ëœ ê°’)</strong>ì„ Modelì— ë‹´ì•„ ë‹¤ì‹œ ìƒí’ˆ ë“±ë¡ í¼ì— ë„˜ê²¨ ë Œë”ë§ í›„ ìƒí’ˆë“±ë¡ í¼ì„ ì˜¤ë¥˜ ë©”ì‹œì§€ì™€ í•¨ê»˜ ë°›ê²Œ ë¨</li>
        </ol>
      </li>
      <li>
        <p>ì¦‰, ê²€ì¦ì— ì‹¤íŒ¨í•œ ê²½ìš° ê³ ê°ì—ê²Œ <strong>ë‹¤ì‹œ ìƒí’ˆ ë“±ë¡ í¼</strong>ì„
  ë³´ì—¬ì£¼ê³ , <strong>ì–´ë–¤ ê°’ì„ ì˜ëª» ì…ë ¥í–ˆëŠ”ì§€</strong> ì¹œì ˆí•˜ê²Œ ì•Œë ¤ì£¼ì–´ì•¼ í•¨ â†’ <strong>Server Validation</strong></p>
      </li>
    </ul>
  </li>
</ul>

<h3 id="validation-ì§ì ‘-ì²˜ë¦¬">Validation ì§ì ‘ ì²˜ë¦¬</h3>

<ul>
  <li>Validation ë¡œì§ (ì˜¤ë¥˜ ê²€ì¶œ)<strong>ì§ì ‘ ê°œë°œ</strong>í•˜ê¸°</li>
  <li>ì§ì ‘ <strong>errors ë¼ëŠ” Map</strong>ì„ ë§Œë“¤ì–´ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ <strong>errors ì— ë‹´ì•„ì£¼ëŠ” í˜•ì‹</strong>ìœ¼ë¡œ ê°œë°œ ì§„í–‰</li>
  <li>ëª¨ë“  ê²€ì¦ ê³¼ì •ì„ ê±°ì¹œ í›„ì˜ errors Mapì— í•˜ë‚˜ ì´ìƒì˜ errorê°€ ì¡´ì¬í•œë‹¤ë©´ ê·¸ <strong>errorë¥¼ modelì— ë‹´ì•„</strong> ìƒí’ˆ ë“±ë¡ í¼ìœ¼ë¡œ ë„˜ê²¨ì£¼ê³  í•´ë‹¹ <strong>ì˜¤ë¥˜ë¥¼ í‘œì‹œ</strong>í•´ì£¼ëŠ” ë°©ì‹</li>
  <li><strong>Controller ë‹¨</strong>
    <ul>
      <li><strong>errorë¥¼ ê²€ì¶œ</strong>í•˜ëŠ” ì—­í• </li>
      <li><code class="language-plaintext highlighter-rouge">Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();</code> : ê²€ì¦ ì˜¤ë¥˜ ê²°ê³¼ë¥¼ ë³´ê´€</li>
      <li><strong>Field ê²€ì¦</strong> (Objectì˜ ê°ê°ì˜ field ì— ëŒ€í•œ ì˜¤ë¥˜ ê²€ì¶œ)
        <ul>
          <li>
            <p>ìƒí’ˆ ì´ë¦„ì´ ë¹„ì–´ìˆëŠ” ì˜¤ë¥˜ ê²€ì¶œ</p>

            <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">if</span> <span class="o">(!</span><span class="nc">StringUtils</span><span class="o">.</span><span class="na">hasText</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getItemName</span><span class="o">()))</span> <span class="o">{</span>
  	 <span class="n">errors</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"itemName"</span><span class="o">,</span> <span class="s">"ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤."</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div>            </div>

            <ul>
              <li><code class="language-plaintext highlighter-rouge">item</code>ì€ <code class="language-plaintext highlighter-rouge">@ModelAttribute</code>ë¥¼ í†µí•´ Formì˜ ì…ë ¥ê°’ë“¤ì„ ë°›ì•„ì˜¨ ê°ì²´</li>
              <li><code class="language-plaintext highlighter-rouge">StringUtils.hasText</code> ë¥¼ í†µí•´ ë¹ˆë¬¸ìì—´ì´ê±°ë‚˜ Nullì´ë©´ ì˜¤ë¥˜ ê²€ì¶œ í›„ ì˜¤ë¥˜ë¥¼ ë‹´ë„ë¡ ì§„í–‰</li>
            </ul>
          </li>
          <li>
            <p>ìƒí’ˆ ê°€ê²©ì´ ë¹„ì–´ìˆê±°ë‚˜ ì •í•´ì§„ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ì˜¤ë¥˜ ê²€ì¶œ</p>

            <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">if</span> <span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">item</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">1000</span> <span class="o">||</span> <span class="n">item</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">&gt;</span><span class="mi">1000000</span><span class="o">)</span> <span class="o">{</span>
  	 <span class="n">errors</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"price"</span><span class="o">,</span> <span class="s">"ê°€ê²©ì€ 1,000 ~ 1,000,000 ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤."</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div>            </div>
          </li>
          <li>
            <p>ìƒí’ˆ ìˆ˜ëŸ‰ì´ ë¹„ì—¬ìˆê±°ë‚˜ ì •í•´ì§„ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ì˜¤ë¥˜ ê²€ì¶œ</p>

            <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">if</span> <span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">item</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">9999</span><span class="o">)</span> <span class="o">{</span>
  	 <span class="n">errors</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"quantity"</span><span class="o">,</span> <span class="s">"ìˆ˜ëŸ‰ì€ ìµœëŒ€ 9,999 ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤."</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
      <li><strong>Object ê²€ì¦</strong> (<strong>ì—¬ëŸ¬ Fieldë¥¼ ë³µí•©ì ìœ¼ë¡œ íŒë‹¨</strong>í•œ ê²€ì¦)
        <ul>
          <li>
            <p>ìƒí’ˆ ê°€ê²© * ìƒí’ˆ ìˆ˜ëŸ‰ì´ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ì˜¤ë¥˜ ê²€ì¶œ</p>

            <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">if</span> <span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">item</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
  	 <span class="kt">int</span> <span class="n">resultPrice</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">*</span> <span class="n">item</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">();</span>
  	 <span class="k">if</span> <span class="o">(</span><span class="n">resultPrice</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="o">)</span> <span class="o">{</span>
  		 <span class="n">errors</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"globalError"</span><span class="o">,</span> <span class="s">"ê°€ê²© * ìˆ˜ëŸ‰ì˜ í•©ì€ 10,000ì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.í˜„ì¬ ê°’ = "</span> <span class="o">+</span> <span class="n">resultPrice</span><span class="o">);</span>
  	 <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
      <li>ì´ë ‡ê²Œ Field ê²€ì¦, Object ê²€ì¦ì„ ìˆ˜í–‰í•˜ê³  ì˜¤ë¥˜ê°€ ë°œê²¬ë˜ë©´ <strong>í•´ë‹¹ ì˜¤ë¥˜ì— ëŒ€í•´ errors Map ì— ë„£ì–´ì¤Œ</strong></li>
      <li>
        <p>ê²€ì¦ ì‹¤íŒ¨ (errorê°€ í•˜ë‚˜ë¼ë„ ì¡´ì¬í•˜ëŠ” ê²½ìš°)</p>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">if</span> <span class="o">(!</span><span class="n">errors</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
  	 <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"errors"</span><span class="o">,</span> <span class="n">errors</span><span class="o">);</span>
  	 <span class="k">return</span> <span class="s">"validation/v1/addForm"</span><span class="o">;</span>
  <span class="o">}</span>
</code></pre></div>        </div>

        <ul>
          <li>ë§Œì•½ ê²€ì¦ì—ì„œ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ <strong>modelì— errors ë¥¼ ë‹´ê³ , ì…ë ¥
  í¼ì´ ìˆëŠ” ë·° í…œí”Œë¦¿ìœ¼ë¡œ ë³´ëƒ„</strong></li>
          <li>ì´ë•Œ, <strong>ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„°</strong> ë˜í•œ ê·¸ëŒ€ë¡œ modelì— ë‹´ê²¨ ë·° í…œí”Œë¦¿ìœ¼ë¡œ ë„˜ì–´ê°€ê²Œ ë¨</li>
        </ul>

        <aside>
  âš ï¸ <strong><code>model.addAttribute(â€itemâ€,item)</code> ì„ í•˜ì§€ ì•Šì•˜ëŠ”ë° ì–´ë–»ê²Œ <code>model</code>ì— ë‹´ê²¨ì§€ëŠ” ê±°ì§€?</strong> <br />
  <code>@ModelAttribute</code> ì˜ <b>íŠ¹ë³„í•œ ê¸°ëŠ¥</b> ë•Œë¬¸. ì…ë ¥ëœ ê°’ì„ <code>@ModelAttribute</code> ë¥¼ í†µí•´ itemì— ë„£ì–´ì£¼ëŠ” ì‘ì—…ì„ parameterë¥¼ í†µí•´ í–ˆëŠ”ë°, ì—¬ê¸°ì„œ <code>@ModelAttribute</code>ì˜ <b>ë‘ë²ˆì§¸ ê¸°ëŠ¥</b>ì¸ <b><code>model</code>ì— ìë™ìœ¼ë¡œ ë‹´ê²¨ì§€ëŠ” ê¸°ëŠ¥</b>ì´ ë°œë™í•´ì„œ ë”°ë¡œ ì¶”ê°€í•˜ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ ë“¤ì–´ê°„ ê²ƒ!
        
  </aside>
      </li>
    </ul>
  </li>
  <li>ë·° í…œí”Œë¦¿
    <ul>
      <li>
        <p><strong>Object ì˜¤ë¥˜</strong> (ë³µí•© ê²€ì¦ ì‹¤íŒ¨ ì‹œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜)</p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;div</span> <span class="na">th:if=</span><span class="s">"${errors?.containsKey('globalError')}"</span><span class="nt">&gt;</span>
  	 <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"field-error"</span> <span class="na">th:text=</span><span class="s">"${errors['globalError']}"</span><span class="nt">&gt;</span>ì „ì²´ ì˜¤ë¥˜ë©”ì‹œì§€<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
</code></pre></div>        </div>

        <ul>
          <li><code class="language-plaintext highlighter-rouge">th:if="${errors?.containsKey('globalError')}"</code> : errors ë¼ëŠ” Mapì— globalError keyê°€ ë“¤ì–´ìˆë‹¤ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ ë³´ì—¬ì¤Œ
            <ul>
              <li><strong><code class="language-plaintext highlighter-rouge">errors</code> ì˜ <code class="language-plaintext highlighter-rouge">?</code> ëŠ” nullì¼ ê²½ìš°ë¥¼ ë°©ì§€í•˜ëŠ” ê²ƒ.</strong></li>
              <li>ë§Œì•½ <code class="language-plaintext highlighter-rouge">errors</code> ê°€ <code class="language-plaintext highlighter-rouge">null</code> ì¸ë° <code class="language-plaintext highlighter-rouge">containsKey</code>ë¥¼ ì´ìš©í•˜ê²Œ ë˜ë©´ <code class="language-plaintext highlighter-rouge">NullPointException</code>ì´ í„°ì§€ê²Œ ë¨</li>
              <li>ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">?</code> ë¥¼ í†µí•´ì„œ errorsê°€ nullì´ë©´ <strong>nullì¸ ìƒíƒœë¡œ ë°˜í™˜</strong>í•˜ê²Œ í•˜ëŠ” ê²ƒ</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p><strong>Field ì˜¤ë¥˜</strong> (Objectì˜ ê°ê°ì˜ Fieldì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜)</p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;div&gt;</span>
  	 <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"itemName"</span> <span class="na">th:text=</span><span class="s">"#{label.item.itemName}"</span><span class="nt">&gt;</span>ìƒí’ˆëª…<span class="nt">&lt;/label&gt;</span>
  	 <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"itemName"</span> <span class="na">th:field=</span><span class="s">"*{itemName}"</span>
  					 <span class="na">th:class=</span><span class="s">"${errors?.containsKey('itemName')} ? 'form-control field-error' : 'form-control'"</span>
  					 <span class="na">placeholder=</span><span class="s">"ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"</span><span class="nt">&gt;</span>
  					<span class="c">&lt;!-- th:classappend="${errors?.containsKey('itemName')} ? 'fielderror' : _"
  							class="form-control"  ì‚¬ìš© ê°€ëŠ¥--&gt;</span>
  	 <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"field-error"</span> <span class="na">th:if=</span><span class="s">"${errors?.containsKey('itemName')}"</span> <span class="na">th:text=</span><span class="s">"${errors['itemName']}"</span><span class="nt">&gt;</span>
  		 ìƒí’ˆëª… ì˜¤ë¥˜
  	 <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
</code></pre></div>        </div>

        <ul>
          <li><code class="language-plaintext highlighter-rouge">th:class="${errors?.containsKey('itemName')} ? 'form-control field-error' : 'form-control'"</code> : errors ë¼ëŠ” Mapì— itemName keyê°€ ë“¤ì–´ìˆë‹¤ë©´ ì˜¤ë¥˜ custom classë¥¼ ì ìš©ì‹œì¼œì¤Œ</li>
          <li><code class="language-plaintext highlighter-rouge">th:if="${errors?.containsKey('itemName')}"</code> , <code class="language-plaintext highlighter-rouge">th:text="${errors['itemName']}"</code> : errors ë¼ëŠ” Mapì— itemNamekeyê°€ ë“¤ì–´ìˆë‹¤ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ ë³´ì—¬ì¤Œ</li>
        </ul>

        <aside>
  âš ï¸ <strong><code>th:classappend</code> ë¥¼ ì‚¬ìš©í•´ë„ ë¨</strong> <br />
  <code>class="form-control" th:classappend="${errors?.containsKey('itemName')} ? 'fielderror' : _"</code>
        
  </aside>
      </li>
    </ul>
  </li>
  <li>ë‚¨ì€ ë¬¸ì œì 
    <ul>
      <li>ë·° í…œí”Œë¦¿ì˜ ì˜¤ë¥˜ ì²˜ë¦¬ë¶€ë¶„ì„ ë³´ë©´ í•˜ë‚˜ì˜ ì˜¤ë¥˜ì²˜ë¦¬ì— ë„ˆë¬´ë‚˜ ì¡°ì¡í•˜ê³  ì¤‘ë³µë˜ëŠ” ì½”ë“œê°€ ë§ì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ</li>
      <li><strong>íƒ€ì… ì˜¤ë¥˜ ì²˜ë¦¬ ë¶ˆê°€</strong>. â†’ íƒ€ì… ì˜¤ë¥˜ê°™ì€ ê²½ìš° ìŠ¤í”„ë§MVCì—ì„œ <strong>ì»¨íŠ¸ë¡¤ëŸ¬ì— ì§„ì…í•˜ê¸°ë„ ì „ì— ì˜ˆì™¸ê°€ ë°œìƒ</strong>í•˜ê¸° ë•Œë¬¸ì— (í˜„ì¬ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ì•ˆì—ì„œ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ì§„í–‰ ì¤‘), ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í˜¸ì¶œë˜ì§€ë„ ì•Šê³ , 400 ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ì„œ ì˜¤ë¥˜ í˜ì´ì§€ê°€ ë„ì›Œì§</li>
      <li>ì´ëŸ¬í•œ ë¬¸ì œì ë“¤ì€ <strong>ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê²€ì¦ ë°©ë²•</strong>ì„ í†µí•´ <strong>í•´ê²° ê°€ëŠ¥!</strong></li>
    </ul>
  </li>
</ul>

<h3 id="bindingresult-springì´-ì œê³µí•˜ëŠ”-ê²€ì¦-ì˜¤ë¥˜---version-1">BindingResult (Springì´ ì œê³µí•˜ëŠ” ê²€ì¦ ì˜¤ë¥˜) - [Version 1]</h3>

<ul>
  <li><strong>ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê²€ì¦ ì˜¤ë¥˜ ì²˜ë¦¬ ë°©ë²•</strong></li>
  <li><strong>BindingResult</strong>
    <ul>
      <li><strong>ì—°ê²°ëœ ê°ì²´ ë°”ì¸ë”© ì‹œ</strong> ë°œìƒí•˜ëŠ” <strong>ì˜¤ë¥˜ë¥¼ ë‹´ì•„</strong>ì£¼ëŠ” ì—­í• </li>
      <li>View Templateì— ìë™ìœ¼ë¡œ ë„˜ê²¨ì§ (Integration with Spring)</li>
      <li>ì§ì ‘ ì˜¤ë¥˜ë¥¼ ê²€ì¶œí•˜ì—¬ <strong>custom errorë¥¼ ë‹´ì•„ì¤„ ìˆ˜</strong>ë„ ìˆìŒ</li>
    </ul>
  </li>
  <li><strong>Controller ë‹¨</strong> (BindingResult ì‚¬ìš© í›„ ì½”ë“œ ë³€ê²½ ì )
    <ul>
      <li>Controller Method
        <ul>
          <li><code class="language-plaintext highlighter-rouge">public String addItemV1(@ModelAttribute Item item, BindingResult bindingResult, ... ) {...}</code></li>
          <li>í•­ìƒ BindingResultëŠ” <code class="language-plaintext highlighter-rouge">@ModelAttribute</code> ì˜ <strong>ëŒ€ìƒ ê°ì²´ì™€ ì—°ë™</strong>ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— <strong>ìˆœì„œ ìƒ <code class="language-plaintext highlighter-rouge">@ModelAttribute</code> ë’¤ì— ë¶™ì—¬ì¤˜ì•¼ ë¨!!</strong></li>
        </ul>
      </li>
      <li><strong>FieldError</strong> :  <code class="language-plaintext highlighter-rouge">bindingResult.addError(new FieldError(...))</code> ( â† <code class="language-plaintext highlighter-rouge">errors.put(â€¦)</code> )
        <ul>
          <li>Ex)  <code class="language-plaintext highlighter-rouge">bindingResult.addError(new FieldError("item", "itemName", "ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤."));</code></li>
          <li><strong>FieldError ìƒì„±ì</strong>
            <ul>
              <li><code class="language-plaintext highlighter-rouge">public FieldError(String objectName, String field, String defaultMessage) {â€¦}</code></li>
              <li>String objectName : <code class="language-plaintext highlighter-rouge">@ModelAttribute</code> ëŒ€ìƒ <strong>ê°ì²´ ì´ë¦„</strong></li>
              <li>String field : ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê°ì²´ì˜ <strong>í•„ë“œ ì´ë¦„</strong></li>
              <li>String defaultMessage : ë³´ì—¬ì¤„ <strong>ì˜¤ë¥˜ ë©”ì‹œì§€</strong></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>ObjectError : <code class="language-plaintext highlighter-rouge">bindingResult.addError(new ObjectError(...))</code> ( â† <code class="language-plaintext highlighter-rouge">errors.put(â€¦)</code> )
        <ul>
          <li>Ex) <code class="language-plaintext highlighter-rouge">bindingResult.addError(new ObjectError("item", "ê°€ê²© * ìˆ˜ëŸ‰ì˜ í•©ì€ 10,000ì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ê°’ = " + resultPrice));</code></li>
          <li><strong>ObjectError ìƒì„±ì</strong>
            <ul>
              <li><code class="language-plaintext highlighter-rouge">public ObjectError(String objectName, String defaultMessage) {...}</code></li>
              <li>String objectName : <code class="language-plaintext highlighter-rouge">@ModelAttribute</code> ëŒ€ìƒ <strong>ê°ì²´ ì´ë¦„</strong></li>
              <li>String defaultMessage : ë³´ì—¬ì¤„ <strong>ì˜¤ë¥˜ ë©”ì‹œì§€</strong></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ë·° í…œí”Œë¦¿ ë‹¨ (BindingResult ì‚¬ìš© í›„ ì½”ë“œ ë³€ê²½ ì )
    <ul>
      <li>
        <p><strong>Object Error</strong></p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;div</span> <span class="na">th:if=</span><span class="s">"${#fields.hasGlobalErrors()}"</span><span class="nt">&gt;</span>
  	 <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"field-error"</span> <span class="na">th:each=</span><span class="s">"err : ${#fields.globalErrors()}"</span> <span class="na">th:text=</span><span class="s">"${err}"</span><span class="nt">&gt;</span>ê¸€ë¡œë²Œ ì˜¤ë¥˜ ë©”ì‹œì§€<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
</code></pre></div>        </div>

        <ul>
          <li><code class="language-plaintext highlighter-rouge">${#fields.hasGlobalErrors()}</code> ( â† <code class="language-plaintext highlighter-rouge">${errors?.containsKey('globalError')}</code>)</li>
          <li><code class="language-plaintext highlighter-rouge">th:each="err : ${#fields.globalErrors()}" th:text="${err}"</code> ( â†  <code class="language-plaintext highlighter-rouge">th:text="${errors['globalError']}"</code> )</li>
          <li><strong><code class="language-plaintext highlighter-rouge">#fields</code></strong> ë¥¼ í†µí•´ BindingResultê°€ ì œê³µí•˜ëŠ” <strong>ê²€ì¦ ì˜¤ë¥˜ì— ì ‘ê·¼ ê°€ëŠ¥</strong>
            <ul>
              <li><code class="language-plaintext highlighter-rouge">hasGlobalErrors()</code> : Global(Object) Errorê°€ ì¡´ì¬í•˜ëŠ” ì§€ í™•ì¸</li>
              <li><code class="language-plaintext highlighter-rouge">globalErros()</code> : Global(Object) Errorë“¤</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Field Error</p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"itemName"</span> <span class="na">**th:field**=</span><span class="s">"*{itemName}"</span>
  			 <span class="na">**th:errorclass**=</span><span class="s">"field-error"</span> <span class="na">class=</span><span class="s">"form-control"</span>
  			 <span class="na">placeholder=</span><span class="s">"ì´ë¦„ì„ì…ë ¥í•˜ì„¸ìš”"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"field-error"</span> <span class="na">**th:errors**=</span><span class="s">"*{itemName}"</span><span class="nt">&gt;</span>
  	 ìƒí’ˆëª… ì˜¤ë¥˜
  <span class="nt">&lt;/div&gt;</span>
</code></pre></div>        </div>

        <ul>
          <li><code class="language-plaintext highlighter-rouge">th:errorclass="field-error" class="form-control"</code> ( â† <code class="language-plaintext highlighter-rouge">th:class="${errors?.containsKey('itemName')} ? 'form-control field-error' : 'form-control'"</code> )</li>
          <li><strong><code class="language-plaintext highlighter-rouge">th:errorclass</code></strong>
            <ul>
              <li><code class="language-plaintext highlighter-rouge">th:field</code> ì™€ ì—°ë™í•´ì„œ  <code class="language-plaintext highlighter-rouge">BindingResult</code>ë¥¼ í†µí•´  í•´ë‹¹ <strong>fieldì˜ ì˜¤ë¥˜ê°€ ìˆë‹¤</strong>ê³  ì¸ì§€ê°€ ë˜ë©´ <strong>ìë™</strong>ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">errorclass</code>ì˜ <code class="language-plaintext highlighter-rouge">class</code>ë¥¼ ê¸°ì¡´ <code class="language-plaintext highlighter-rouge">class</code>ì— <strong>append í•´ì¤Œ</strong> (<code class="language-plaintext highlighter-rouge">th:field</code>ê°€ ê²€ì¦ì—ì„œë„ ì—­í• ì„ í•˜ëŠ” ëª¨ìŠµ)</li>
            </ul>
          </li>
          <li><code class="language-plaintext highlighter-rouge">th:errors="*{itemName}"</code> ( â† <code class="language-plaintext highlighter-rouge">th:if="${errors?.containsKey('itemName')}" th:text="${errors['itemName']}"</code>)</li>
          <li><code class="language-plaintext highlighter-rouge">th:errors</code>
            <ul>
              <li><code class="language-plaintext highlighter-rouge">th:if</code> ì™€ <code class="language-plaintext highlighter-rouge">th:text</code> ì—­í• ì„ <strong>ëª¨ë‘ í•´ì¤Œ</strong></li>
              <li><code class="language-plaintext highlighter-rouge">errors</code>ì— ì—°ë™ëœ fieldì— ì˜¤ë¥˜ê°€ ìˆë‹¤ë©´(<code class="language-plaintext highlighter-rouge">th:if</code>), BindingResultë¥¼ í†µí•´ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤Œ(<code class="language-plaintext highlighter-rouge">th:text</code>)</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>TypeMismatch</strong> ì²˜ë¦¬í•˜ê¸°
    <ul>
      <li>ì´ì „ì—ëŠ” TypeMismatch ì™€ ê°™ì´ Binding ì‹œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•˜ê¸° ì „ì— ë°œìƒí•˜ëŠ” ë¬¸ì œë¼ ì²˜ë¦¬í•˜ì§€ ëª»í–ˆìŒ (400 ì˜¤ë¥˜ê°€ ë°œìƒ, ì˜¤ë¥˜í˜ì´ì§€ë¡œ ì´ë™)</li>
      <li>í•˜ì§€ë§Œ, <strong>BindingResult</strong> ê°€ ìˆìœ¼ë©´ <code class="language-plaintext highlighter-rouge">@ModelAttribute</code> ì— ë°ì´í„° ë°”ì¸ë”© ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í˜¸ì¶œë¨ (ì˜¤ë¥˜ ì •ë³´( FieldError )ë¥¼ BindingResult ì— ë‹´ìŒ)</li>
    </ul>

    <aside>
  ğŸ’¡ <strong>BindingResultì— ê²€ì¦ ì˜¤ë¥˜ë¥¼ ì ìš©í•˜ëŠ” 3ê°€ì§€ ë°©ë²•</strong>
  <ol>
  <li><code>@ModelAttribute</code> ë¡œ ì§€ì •ëœ ê°ì²´ì— <code>TypeMismatchError</code> ë“±ìœ¼ë¡œ Bindingì´ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš° ìë™ìœ¼ë¡œ <code>FieldError</code> ë¥¼ ìƒì„±í•´ì„œ BindingResultì— ë‹´ì•„ì¤Œ</li>
  <li>ê°œë°œìê°€ ì§ì ‘ ë¹„ì§€ë‹ˆìŠ¤ ê²€ì¦ ë¡œì§ì„ ìˆ˜í–‰ (ì§ì ‘ <code>FieldError</code>ë¥¼ ìƒì„±í•˜ì—¬ BindingResultì— ë‹´ëŠ” ê²ƒ)</li>
  <li><code>Validator</code> ì‚¬ìš©</li>
  </ol>
  </aside>

    <aside>
  ğŸš¨ <strong>BindingResult ì‚¬ìš© ì‹œ ì£¼ì˜ì !</strong>
  <ul>
  <li>BindingResult ëŠ” ìˆœì„œ ìƒ <b>ê²€ì¦í•  ëŒ€ìƒ</b>(ex_ <code>@ModelAttribute</code>) <b>ë°”ë¡œ ë‹¤ìŒì— ì™€</b>ì•¼í•¨. (<code>ObjectError</code>, <code>FieldError</code> ì™€ ì—°ë™í•˜ê¸° ìœ„í•´ì„œ!)</li>
  <li>BindingResult ëŠ” <b>Modelì— ìë™ìœ¼ë¡œ í¬í•¨</b>ë˜ê¸°ì— ë”°ë¡œ addí•  í•„ìš”ê°€ ì—†ìŒ!</li>
  <li>BindingResult ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ê³ , <code>Errors</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†. ì¦‰, <code>Errors</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë„˜ê²¨ì¤˜ë„ ë˜ì§€ë§Œ <b>BindingResultê°€ ë” ë§ì€ ê¸°ëŠ¥ì„ ì œê³µ</b>í•¨ (ì£¼ë¡œ ê´€ë¡€ìƒ BindingResultë¥¼ ì‚¬ìš©í•¨)</li>
  </ul>
  </aside>
  </li>
  <li><strong>í˜„ì¬ ë¬¸ì œì </strong>
    <ul>
      <li>ì˜¤ë¥˜ ì²˜ë¦¬ëŠ” ì˜ ë˜ì—ˆì§€ë§Œ, ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° <strong>ê³ ê°ì´ ì…ë ¥í•œ ë‚´ìš©ì´ ëª¨ë‘ ì‚¬ë¼ì§!</strong></li>
    </ul>
  </li>
</ul>

<h3 id="bindingresult-version-2">BindingResult [Version 2]</h3>

<ul>
  <li>
    <p>ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë”ë¼ë„ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì´ ìœ ì§€ë˜ë„ë¡ ì„¤ì •í•˜ê¸° â†’ <strong>FieldError, ObjectError ì˜ ë˜ ë‹¤ë¥¸ ìƒì„±ìë¥¼ í†µí•´ í•´ê²° ê°€ëŠ¥!</strong></p>

    <aside>
  ğŸš¨ <strong>ê·¼ë° ì™œ ê°’ì´ ì—†ì–´ì§€ì§€? <code>@ModelAtrribute</code>ë¥¼ í†µí•´ì„œ ê°’ì´ ë„˜ê²¨ì§€ì§€ ì•Šë‚˜?</strong>
  <ul>
  <li>ì´ ë¶€ë¶„ì€ ë·° í…œí”Œë¦¿ì—ì„œ ì‚¬ìš©í•˜ëŠ” `th:field="..."` ì™€ ì—°ê´€ì´ ìˆìŒ!</li>
  <li><code>th:field</code> ëŠ” ì •ìƒ ìƒí™©ì—ëŠ” ëª¨ë¸ ê°ì²´ì˜ ê°’(Modelë¡œ ë„˜ê²¨ì§„ ê°’)ì„ ì‚¬ìš©í•˜ì§€ë§Œ, <b>ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´</b> <b><code>FieldError</code>ì—ì„œ ë³´ê´€í•œ ê°’ì„ ì‚¬ìš©</b>í•´ì„œ ê°’ì„ ì¶œë ¥í•¨</li>
  <li>ê·¸ëŸ°ë°, ì´ì „ versionì„ í™•ì¸í•´ ë³´ë©´ FieldErrorì— ë”°ë¡œ ê°’ì„ ë³´ê´€í•˜ì§€ ì•Šì•˜ê¸°ì— ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ë¹ˆ ê°’ì´ ì¶œë ¥ëœ ê²ƒ!</li>
  <li>ì¦‰, ì´ì œ <code>FieldError</code>ì— ì‚¬ìš©ìê°€ ë°©ê¸ˆ <b>ì…ë ¥í•œ ê°’ì„ ë³´ê´€</b>í•´ì£¼ë©´ ë¨! â†’ <b><code>FieldError</code>ì˜ ë˜ ë‹¤ë¥¸ ìƒì„±ì ì‚¬ìš©</b></li>
  </ul>
  </aside>
  </li>
  <li>
    <p>FieldErrorì˜ ë˜ ë‹¤ë¥¸ ìƒì„±ì (rejectedValue, â€¦)</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="nf">FieldError</span><span class="o">(</span>
  			<span class="nc">String</span> <span class="n">objectName</span><span class="o">,</span> <span class="nc">String</span> <span class="n">field</span><span class="o">,</span> 
  			<span class="nd">@Nullable</span> <span class="nc">Object</span> <span class="n">rejectedValue</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">bindingFailure</span><span class="o">,</span> 
  			<span class="nd">@Nullable</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">codes</span><span class="o">,</span> 
  			<span class="nd">@Nullable</span> <span class="nc">Object</span><span class="o">[]</span> <span class="n">arguments</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">String</span> <span class="n">defaultMessage</span> <span class="o">)</span>
</code></pre></div>    </div>

    <ul>
      <li>String objectName : <code class="language-plaintext highlighter-rouge">@ModelAttribute</code> ëŒ€ìƒ <strong>ê°ì²´ ì´ë¦„</strong></li>
      <li>String field : ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê°ì²´ì˜ <strong>í•„ë“œ ì´ë¦„</strong></li>
      <li><strong>Object</strong> <strong>rejectedValue</strong> : ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’(<strong>ê±°ì ˆëœ ê°’</strong>)</li>
      <li>boolean bindingFailure : íƒ€ì… ì˜¤ë¥˜ ê°™ì€ ë°”ì¸ë”© ì‹¤íŒ¨ì¸ì§€, ì»¤ìŠ¤í…€ ê²€ì¦ ì‹¤íŒ¨ì¸ì§€ êµ¬ë¶„ ê°’</li>
      <li>String[] codes : ë©”ì‹œì§€ ì½”ë“œ</li>
      <li>Object[] arguments : ë©”ì‹œì§€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¸ì</li>
      <li>String defaultMessage : ë³´ì—¬ì¤„ ì˜¤ë¥˜ ë©”ì‹œì§€</li>
    </ul>

    <aside>
  ğŸ’¡ <strong>ObjectErrorë„ ìœ ì‚¬í•˜ê²Œ [objectName, codes, arguments, defaultMessage] ë¥¼ ì œê³µí•˜ëŠ” ë˜ ë‹¤ë¥¸ ìƒì„±ìë¥¼ ê°€ì§€ê³  ìˆìŒ</strong>
    
  </aside>
  </li>
  <li><strong>ObjectError, FieldError ì‚¬ìš©</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">bindingResult.addError(new ObjectError("item", null, null, "ê°€ê²© *
  ìˆ˜ëŸ‰ì˜ í•©ì€ 10,000ì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ê°’ = " + resultPrice));</code></li>
      <li><code class="language-plaintext highlighter-rouge">bindingResult.addError(new FieldError("item", "itemName", item.getItemName(), false, null, null, "ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤."));</code>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">rejectedValue</code> ì—ëŠ” ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì„ ì €ì¥í•œ itemì—ì„œ ê°€ì ¸ì˜´</li>
          <li>custom ê²€ì¦ ì´ê¸°ì— (ë°”ì¸ë”© ì˜¤ë¥˜ê°€ ì•„ë‹˜) bindingFailure ì—ëŠ” false ê°’ìœ¼ë¡œ ì„¤ì •</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>ë°”ì¸ë”© ì‹¤íŒ¨ ì‹œ <strong>ìë™ìœ¼ë¡œ rejectedValue ë“±ì„ í¬í•¨í•œ FieldErrorë¥¼ ìƒì„±</strong>í•˜ì—¬ BindingResultì— ë‹´ì•„ì¤Œ!! â†’ íƒ€ì… ì˜¤ë¥˜ ê°™ì€ ë°”ì¸ë”© ì‹¤íŒ¨ì‹œì—ë„ ì‚¬ìš©ìì˜ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì •ìƒ ì¶œë ¥ ê°€ëŠ¥</p>

    <aside>
  âš ï¸ <strong>êµ³ì´ ì™œ FieldErrorì˜ rejectedValueì— ì…ë ¥ ê°’ì„ ì €ì¥í•´ì„œ ë³´ë‚´ëŠ” ê±°ì§€?</strong> <br />
    
  ì‚¬ìš©ìì˜ ì…ë ¥ ë°ì´í„°ê°€ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ <code>@ModelAttribute</code> ì— Binding ë˜ëŠ” ì‹œì ì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ <b>ëŒ€ìƒ ê°ì²´ì— ì‚¬ìš©ì ì…ë ¥ ê°’ì„ ìœ ì§€í•˜ê¸° ì–´ë ¤ì›€!</b> ì˜ˆë¥¼ ë“¤ì–´ì„œ ê°€ê²©ì— <b>Integer</b>ê°€ ì•„ë‹Œ <b>String</b>ì´ ì…ë ¥ëœë‹¤ë©´ <b>Typeì´ ë‹¤ë¥´ë¯€ë¡œ ë‹¹ì—°íˆ Stringì„ ë³´ê´€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ìŒ.</b> ê·¸ë˜ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²½ìš° ì‚¬ìš©ì ì…ë ¥ ê°’ì„ <b>ë³´ê´€í•˜ëŠ” ë³„ë„ì˜ ë°©ë²•</b>ì´ í•„ìš”í•˜ê³  ì´ë¥¼ <code>FieldError</code>ì˜ <code>rejectedValue</code>ë¥¼ í†µí•´ì„œ ìˆ˜í–‰í•˜ëŠ” ê²ƒ!
    
  </aside>
  </li>
</ul>

<h2 id="ì˜¤ë¥˜-ì½”ë“œì™€-ë©”ì‹œì§€-ì²˜ë¦¬">ì˜¤ë¥˜ ì½”ë“œì™€ ë©”ì‹œì§€ ì²˜ë¦¬</h2>

<ul>
  <li>Validation Partì—ì„œ FieldError, ObjectErrorì˜ ë‘ë²ˆì§¸ ìƒì„±ì ì—ì„œ ë³¼ ìˆ˜ ìˆì—ˆë˜  <code class="language-plaintext highlighter-rouge">@Nullable String[] codes, @Nullable Object[] arguments</code> ì™€ ê´€ë ¨ëœ ì²˜ë¦¬ ë¶€ë¶„ (<strong>codes</strong> : message sourceì—ì„œ <strong>keyì— í•´ë‹¹í•˜ëŠ”</strong> <strong>message</strong>ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒ, <strong>arguments</strong> : ê·¸ì— ë”°ë¥¸ <strong>ë§¤ê°œë³€ìˆ˜</strong>ë“¤)</li>
  <li><strong>ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼</strong> <strong>ì²´ê³„ì ìœ¼ë¡œ</strong> ë‹¤ë£¨ì–´ë³´ëŠ” ë¶€ë¶„</li>
  <li>versionì´ ì°¨ê·¼ì°¨ê·¼ ì¦ê°€ë˜ë©´ì„œ ë” ì¢‹ì€ ì‚¬ìš©ë²•ì„ ì•Œì•„ë³´ëŠ” ê²ƒ</li>
</ul>

<h3 id="version-1">Version 1</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">@Nullable String[] codes, @Nullable Object[] arguments</code>
    <ul>
      <li>ë©”ì‹œì§€ íŒŒíŠ¸ì—ì„œ ë‹¤ë£¨ì—ˆë˜ ê°œë…! (message sourceë¥¼ ì§€ì •í•˜ê³  ê·¸ messageë¥¼ ê°€ì ¸ì˜¤ëŠ”â€¦)</li>
      <li><code class="language-plaintext highlighter-rouge">codes</code> : message sourceì—ì„œ <strong>keyì— í•´ë‹¹í•˜ëŠ” message</strong>ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒ (MessageSource.getMessage() ë¼ê³  ìƒê°í•˜ë©´ ë¨)</li>
      <li><code class="language-plaintext highlighter-rouge">arguments</code> : ê°€ì ¸ì˜¤ë ¤ í•˜ëŠ” messageì—ì„œ ìš”êµ¬í•˜ëŠ” <strong>ë§¤ê°œë³€ìˆ˜ë“¤</strong></li>
    </ul>
  </li>
  <li>errors.properties
    <ul>
      <li>messages.properties ì—ë‹¤ ì„¤ì •í•´ë„ ë˜ì§€ë§Œ êµ¬ë¶„ì„ ìœ„í•´ ìƒˆë¡œìš´ <strong>message source íŒŒì¼ ìƒì„±</strong></li>
      <li><code class="language-plaintext highlighter-rouge">spring.messages.basename=messages,errors</code> : messages ëŠ” ê¸°ë³¸ ê°’ì´ì§€ë§Œ errorsë¥¼ message sourceë¡œì¨ ì‚¬ìš©í•˜ë ¤ë©´ <strong>basenameì— ì¶”ê°€</strong> í•„ìš” (<code class="language-plaintext highlighter-rouge">application.properties</code> ì—). ì´ë ‡ê²Œ í•˜ë©´ ë‘ íŒŒì¼ ëª¨ë‘ì—ì„œ ì°¸ê³ . ( ì¶”ê°€ë¡œ errors_en.propertiesë¥¼ í†µí•´ <strong>êµ­ì œí™” ê¸°ëŠ¥ë„ í™œìš© ê°€ëŠ¥</strong> )</li>
      <li>
        <p>src/main/resources/errors.properties</p>

        <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="s">required.item.itemName=ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.</span>
  <span class="s">range.item.price=ê°€ê²©ì€ {0} ~ {1} ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤.</span>
  <span class="s">max.item.quantity=ìˆ˜ëŸ‰ì€ ìµœëŒ€ {0} ê¹Œì§€ í—ˆìš©í•©ë‹ˆë‹¤.</span>
  <span class="s">totalPriceMin=ê°€ê²© * ìˆ˜ëŸ‰ì˜ í•©ì€ {0}ì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ê°’ = {1}</span>
</code></pre></div>        </div>
      </li>
      <li><strong>ObjectError, FieldError</strong>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">bindingResult.addError(new ObjectError("item", new String[]
  {"totalPriceMin"}, new Object[]{10000, resultPrice}, null));</code>
            <ul>
              <li>
                <p>codes : <code class="language-plaintext highlighter-rouge">new String[]{"totalPriceMin"}</code> 
  â‡’ errors.propertiesì—ì„œ totalPriceMinì˜ ì´ë¦„ì„ ê°€ì§„ messageë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒ
  â‡’ Typeì´ <code class="language-plaintext highlighter-rouge">String[]{}</code> ì¸ ë¶€ë¶„ ì£¼ì˜!</p>

                <aside>
  âš ï¸ <strong>codesëŠ” ì™œ String ë°°ì—´ë¡œ ë°›ëŠ”ê±°ì§€?</strong><br />
  codesëŠ” <b>String ë°°ì—´ì˜ ìˆœì„œëŒ€ë¡œ ìš°ì„ ìˆœìœ„</b>ë¥¼ ê°€ì§. ì¦‰, ì²«ë²ˆì§¸ ìš”ì†Œê°€ message sourceì— ì¡´ì¬í•œë‹¤ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©, ë§Œì•½ ì—†ë‹¤ë©´ ë‹¤ìŒ ìš”ì†Œë¡œ message source íƒìƒ‰.
                
  </aside>
              </li>
              <li>arguments :  <code class="language-plaintext highlighter-rouge">new Object[]{10000, resultPrice}</code>
  â‡’ totalPriceMin messageì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ë“¤
  â‡’ Typeì´ <code class="language-plaintext highlighter-rouge">Object[]{}</code> ì¸ ë¶€ë¶„ ì£¼ì˜!</li>
              <li>ê²°ê³¼ ì˜¤ë¥˜ ë©”ì‹œì§€ ì˜ˆì‹œ : <code class="language-plaintext highlighter-rouge">ê°€ê²© * ìˆ˜ëŸ‰ì˜ í•©ì€ 10000ì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ê°’ = 2000</code></li>
              <li><code class="language-plaintext highlighter-rouge">FieldError</code> ë„ ì‚¬ìš©ë²•ì€ ë™ì¼!</li>
            </ul>

            <aside>
  âš ï¸ <strong>ì°¸ê³ ë¡œ í•´ë‹¹ codesë¥¼ message sourceì—ì„œ ì°¾ì„ ìˆ˜ ì—†ë‹¤ë©´ defaultMessageê°€ ì¶œë ¥ë¨ (defaultMessageê°€ null ì´ë©´ ì˜¤ë¥˜!)</strong>
            
  </aside>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="version-2">Version 2</h3>

<ul>
  <li>ë°©ê¸ˆê¹Œì§€ ì‚¬ìš©í–ˆë˜ <code class="language-plaintext highlighter-rouge">FieldError</code>, <code class="language-plaintext highlighter-rouge">ObjectError</code> ëŠ” ì½”ë“œë„ ë„ˆë¬´ ê¸¸ê³  ë‹¤ë£¨ê¸° ë„ˆë¬´ ë²ˆê±°ëŸ¬ì›€</li>
  <li>ë˜í•œ ì˜¤ë¥˜ì½”ë“œ(String ë°°ì—´)ë„ ë‹¤ ì¼ì¼íˆ ì‘ì„±í•´ì£¼ì–´ì„œ ê·€ì°®ìŒ!</li>
  <li>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ê²ƒì´ <code class="language-plaintext highlighter-rouge">BiningResult</code>ì—ì„œ ì œê³µí•˜ëŠ” <code class="language-plaintext highlighter-rouge">rejectValue()</code> [â†FieldError], <code class="language-plaintext highlighter-rouge">reject()</code> [â†ObjectError]. â‡’ ê°ê°ì„ ê°œë°œìê°€ ì§ì ‘ ìƒì„±í•  í•„ìš” ì—†ì´ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ëŠ” ê²ƒ!</li>
  <li><code class="language-plaintext highlighter-rouge">rejectValue()</code> [â†FieldError]
    <ul>
      <li><code class="language-plaintext highlighter-rouge">void rejectValue(@Nullable String field, String errorCode, @Nullable Object[] errorArgs, @Nullable String defaultMessage);</code></li>
      <li>field : ì˜¤ë¥˜ <strong>í•„ë“œëª…</strong></li>
      <li>errorCode : <strong>ì˜¤ë¥˜ ì½”ë“œ</strong> (<strong><code class="language-plaintext highlighter-rouge">messageResolver</code></strong>ë¥¼ ìœ„í•œ ì˜¤ë¥˜ ì½”ë“œ)</li>
      <li>errorArgs : ì˜¤ë¥˜ ë©”ì‹œì§€ì—ì„œ ìš”êµ¬í•˜ëŠ” <strong>íŒŒë¼ë¯¸í„°</strong></li>
      <li>defaultMessage : ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” <strong>ê¸°ë³¸ ë©”ì‹œì§€</strong></li>
      <li>Ex) <code class="language-plaintext highlighter-rouge">bindingResult.rejectValue("price", "range", new Object[]{1000, 1000000}, null)</code>
        <ul>
          <li>fieldëŠ” price â†’ item.price</li>
          <li>errorCodeëŠ” range â†’ <strong><code class="language-plaintext highlighter-rouge">MessageResolver</code></strong> ë¥¼ í†µí•´ <strong>reange.item.price</strong>ë¡œ ì¸ì‹</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">reject()</code> [â†ObjectError]
    <ul>
      <li><code class="language-plaintext highlighter-rouge">void reject(String errorCode, @Nullable Object[] errorArgs, @Nullable String defaultMessage);</code></li>
      <li><code class="language-plaintext highlighter-rouge">rejectValue()</code> ì™€ ê±°ì˜ ë™ì¼</li>
    </ul>
  </li>
</ul>

<aside>
âš ï¸ <strong>ìì„¸í•˜ê²Œ ì ì§€ ì•Šì•„ë„ <code>rejectValue</code>, <code>reject</code> ê°€ ë™ì‘ë˜ëŠ” ì´ìœ !</strong>
<ul>
<li>BindingResultëŠ” <b>ìê¸°ê°€ ê²€ì¦í•´ì•¼ë˜ëŠ” ê°ì²´ê°€ ëˆ„êµ°ì§€ ì´ë¯¸ ì•Œê³ </b> ìˆê¸° ë•Œë¬¸(<code>@ModelAttribute</code> ì™€ ì—°ê³„ë˜ì–´). ê·¸ë˜ì„œ <code>FieldError</code> ì‹œì—ëŠ” í•´ë‹¹ Fieldë§Œ ì§€ì •í•´ì£¼ë©´ ë˜ê³  <code>ObjectError</code> ì‹œì—ëŠ” ì§€ì •í•´ì£¼ì§€ ì•Šì•„ë„ ë¨!</li>
<li>ë˜ message ìì²´ë„ <b>ëŒ€ìƒ ê°ì²´ì™€ ëŒ€ìƒ í•„ë“œë¥¼ ì•ˆ ìƒíƒœ</b>ì—ì„œ <b><code>MessageResolver</code>ê°€ ë™ì‘</b>í•˜ì—¬ ìë™ìœ¼ë¡œ message sourceì—ì„œ í•´ë‹¹ keyë¥¼ í†µí•´ messageë¥¼ ì°¾ì•„ì˜¤ëŠ” ê²ƒ!</li>
</ul>
</aside>

<h3 id="messageresolver">MessageResolver</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">errorCode</code> ì˜ ë‹¨ìˆœí•œ error message keyë¥¼ í†µí•´ ì–´ë–»ê²Œ <code class="language-plaintext highlighter-rouge">errors.properties</code>ì—ì„œ ì„¸ë°€í•œ error messageë¥¼ ê°€ì ¸ì˜¤ëŠ” ì§€ì— ê´€í•œ ë‚´ìš©</li>
  <li>
    <p>ì†Œê°œ</p>

    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="s">required.item.itemName=ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ ì…ë‹ˆë‹¤.</span>
  <span class="s">range.item.price=ìƒí’ˆì˜ ê°€ê²© ë²”ìœ„ ì˜¤ë¥˜ ì…ë‹ˆë‹¤.</span>
    
  <span class="s">required=í•„ìˆ˜ ê°’ ì…ë‹ˆë‹¤.</span>
  <span class="s">range=ë²”ìœ„ ì˜¤ë¥˜ ì…ë‹ˆë‹¤</span>
</code></pre></div>    </div>

    <ul>
      <li>ì´ëŸ°ì‹ìœ¼ë¡œ message sourceê°€ ì§œì—¬ ìˆë‹¤ê³  ê°€ì •</li>
      <li>required ì²˜ëŸ¼ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ë©´ ë²”ìš©ì„±ì´ ì¢‹ì•„ ì—¬ëŸ¬ ê³³ì—ì„œ ì¼ê´€ë˜ê²Œ ì‚¬ìš© ê°€ëŠ¥, but ì„¸ë°€í•˜ê²Œ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´ ì‚¬ìš©ì´ í˜ë“¦</li>
      <li>ë°˜ëŒ€ë¡œ required.item.itemName ì²˜ëŸ¼ ë„ˆë¬´ ìì„¸í•˜ê²Œ ë§Œë“¤ë©´ ë²”ìš©ì„±ì´ ë–¨ì–´ì§.</li>
      <li>ê²°êµ­ ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ <strong>ë¨¼ì € ë²”ìš©ì„±ìœ¼ë¡œ ì‚¬ìš©</strong>í•˜ë‹¤ê°€, ì„¸ë°€í•˜ê²Œ
  ì‘ì„±í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” ì„¸ë°€í•œ ë‚´ìš©ì´ ì ìš©ë˜ë„ë¡ <strong>ë©”ì‹œì§€ì— ë‹¨ê³„ë¥¼ ë‘ëŠ” ë°©ë²•</strong></li>
      <li>ì¦‰, ì„¸ë°€í•œ ë¶€ë¶„ì´ ì•„ë‹ ê²½ìš°ì—ëŠ” required ë§Œ ì˜¤ë¥˜ ì½”ë“œì— ë„£ì–´ì£¼ê³ , ì„¸ë°€í•œ ë¶€ë¶„ (ê°ì²´ì˜ í•„ë“œì—ì„œì˜ ì˜¤ë¥˜) ì—ì„œëŠ” required.item.itemName ì™€ ê°™ì´ ê°ì²´ëª…ê³¼ í•„ë“œëª…ì„ ì¡°í•©í•œ <strong>ì„¸ë°€í•œ ë©”ì‹œì§€ë¥¼ ë„£ì–´</strong>ì£¼ê³  ì´ì— ëŒ€í•´ ìš°ì„ ìˆœìœ„ë¥¼ ë†’ì—¬ì£¼ë©´ ë¨. â†’ codes = [required.item.itemName, required]</li>
      <li><strong>ì´ëŸ° ë™ì‘ì„ Spring ì˜ <code class="language-plaintext highlighter-rouge">MessageCodesResolver</code> ê°€ ìë™ìœ¼ë¡œ í•´ì¤Œ!</strong></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">MessageCodesResolver</code>
    <ul>
      <li><strong>Interface</strong>, êµ¬í˜„ì²´ë¡œëŠ” ë³´í†µ <code class="language-plaintext highlighter-rouge">DefaultMessageCodesResolver</code> ë¥¼ ì‚¬ìš©</li>
      <li><code class="language-plaintext highlighter-rouge">MessageCodesResolver codesResolver = new DefaultMessageCodesResolver();</code></li>
      <li>Object ì™€ Field ì§€ì •ì— ë”°ë¼ <strong>ì˜¤ë¥˜ ì½”ë“œ ìƒì„±</strong>
        <ul>
          <li>ìˆœì„œì— ë”°ë¼ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§</li>
          <li>Object ë§Œ ì§€ì •
            <ul>
              <li><code class="language-plaintext highlighter-rouge">String[] messageCodes = codesResolver.resolveMessageCodes("required", "item");</code></li>
              <li><strong>messageCodes = [â€œrequired.itemâ€, â€œrequiredâ€]</strong></li>
              <li>ì—ëŸ¬ ì½”ë“œ ìƒì„± ê·œì¹™
                <ul>
                  <li>[Level 1] : code + â€œ.â€ + object name</li>
                  <li>[Level 2] : code</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>Object + Field ì§€ì •
            <ul>
              <li><code class="language-plaintext highlighter-rouge">String[] messageCodes = codesResolver.resolveMessageCodes("required", "item", "itemName", String.class);</code></li>
              <li>messageCodes = [â€œrequired.item.itemNameâ€, â€œrequired.itemNameâ€, â€œrequired.java.lang.Stringâ€, â€œrequiredâ€]</li>
              <li>ì—ëŸ¬ ì½”ë“œ ìƒì„± ê·œì¹™
                <ul>
                  <li>[Level 1] : code + â€œ.â€ + object name + â€œ.â€ + field</li>
                  <li>[Level 2] : code + â€œ.â€ + field</li>
                  <li>[Level 3] : code + â€œ.â€ + field type</li>
                  <li>[Level 4] : code</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>ì¦‰, <code class="language-plaintext highlighter-rouge">rejectValue()</code>, <code class="language-plaintext highlighter-rouge">reject()</code> ëŠ” ë‚´ë¶€ì—ì„œ ì´ëŸ° <code class="language-plaintext highlighter-rouge">MessageCodesResolver</code> ë¥¼ ì‚¬ìš©í•´ì„œ ì—ëŸ¬ ë©”ì‹œì§€ ì½”ë“œë“¤ì„ ìƒì„±.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">rejectValue()</code> ë™ì‘ ê³¼ì • (<code class="language-plaintext highlighter-rouge">reject()</code>ë„ ìœ ì‚¬)
    <ul>
      <li>
        <p>ë¨¼ì € BindingResultì— ì—°ê²°ëœ Objectì™€ rejectValueì—ì„œ ì„¤ì •ëœ Field, ê¸°ë³¸ error ì½”ë“œë¥¼ ê°€ì§€ê³  <strong>MessageCodesResolver</strong>ë¥¼ í†µí•´ codes(ì—ëŸ¬ ë©”ì‹œì§€ ì½”ë“œë“¤) ìƒì„±</p>

        <p>â†’ codes = <code class="language-plaintext highlighter-rouge">codesResolver.resolveMessageCodes("required", "item", "itemName", String.class);</code></p>
      </li>
      <li>ê·¸ í›„ <strong>FieldError</strong>ë¥¼ í•´ë‹¹ Object, Field, codesë¥¼ ê°€ì§€ê³  ìƒì„±
  â†’ fieldError = <code class="language-plaintext highlighter-rouge">new FieldError("item", "itemName", item.getItemName(), false, **codes**, null, "ìƒí’ˆ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.")</code></li>
      <li>ë§ˆì§€ë§‰ìœ¼ë¡œ <strong>BindingReusltì— í•´ë‹¹ Error ì¶”ê°€</strong>
  â†’ <code class="language-plaintext highlighter-rouge">bindingResult.addErrors(**fieldError**)</code></li>
    </ul>
  </li>
  <li>ì´ë ‡ê²Œ ì„¤ì •ëœ <code class="language-plaintext highlighter-rouge">BindingReuslt</code>ë¥¼ View Templateì— ë³´ë‚´ì£¼ë©´ <code class="language-plaintext highlighter-rouge">th:errors</code> ì—ì„œ ë©”ì‹œì§€ ì½”ë“œë“¤ì˜ ìš°ì„ ìˆœìœ„ì— ë§ëŠ” ë©”ì‹œì§€ë¥¼ ë…¸ì¶œ (ì—†ìœ¼ë©´ defaultMessage ì¶œë ¥)</li>
</ul>

<aside>
ğŸ’¡  <strong>ì˜¤ë¥˜ ì½”ë“œ ê´€ë¦¬ ì „ëµ</strong>
<ul>
<li> ë¨¼ì € ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì¥ í•˜ìœ„ Levelì— í•´ë‹¹í•˜ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ (ex_required)ë¥¼ ë§Œë“¤ì–´ì£¼ê³  ì¶”í›„ì— ìƒì„¸í•œ ì„¤ëª…ì´ í•„ìš”í•œ ë¶€ë¶„ì´ ìƒê²¼ë‹¤ë©´ ìƒì„¸ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€(ex_required.item.itemName)ë¥¼ ë§Œë“¤ì–´ ì£¼ê¸°ë§Œ í•˜ë©´ ë¨ (message source ê¸°ë°˜ì´ë¯€ë¡œ ìœ ì§€ ë³´ìˆ˜ì„± UP!)</li>
<li> ì¦‰, í¬ê²Œ ì¤‘ìš”í•˜ì§€ ì•Šì€ ë©”ì‹œì§€ëŠ” ë²”ìš©ì„± ìˆëŠ” requried ê°™ì€ ë©”ì‹œì§€ë¡œ ëë‚´ê³ , ì •ë§ ì¤‘ìš”í•œ ë©”ì‹œì§€ëŠ” ê¼­ í•„ìš”í•  ë•Œ êµ¬ì²´ì ìœ¼ë¡œ ì ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ ë” íš¨ê³¼ì ì´ë‹¤.</li>
</ul>
</aside>

<ul>
  <li>ìŠ¤í”„ë§ì´ ì§ì ‘ ë§Œë“  ì˜¤ë¥˜ ë©”ì‹œì§€ ì²˜ë¦¬
    <ul>
      <li><strong>íƒ€ì… ì˜¤ë¥˜</strong>ì™€ ê°™ì€ ì˜¤ë¥˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í˜¸ì¶œí•˜ê¸° ì „, Binding ì‹œ ë°œìƒ</li>
      <li>ì¦‰, ìš°ë¦¬ê°€ ì§ì ‘ <code class="language-plaintext highlighter-rouge">rejectValue()</code>ë¡œ ì²˜ë¦¬í•´ì¤„ ìˆ˜ ì—†ê³ , Spring ìì²´ì—ì„œ ìë™ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">BindingResult</code>ì—ë‹¤ ì˜¤ë¥˜ë¥¼ ë‹´ì•„ì£¼ëŠ” ê²ƒ (<code class="language-plaintext highlighter-rouge">rejectValue()</code>ì™€ ë˜‘ê°™ì€ ì›ë¦¬ë¡œ)</li>
      <li>ì´ë•Œ ë‹´ê¸´ Errorì˜ ì—ëŸ¬ ë©”ì‹œì§€ ì½”ë“œë¥¼ í™•ì¸í•˜ë©´ 
  â‡’ codes = <code class="language-plaintext highlighter-rouge">[typeMismatch.item.price, typeMismatch.price, typeMismatch.java.lang.Integer, typeMismatch]</code></li>
      <li>ì¦‰, <code class="language-plaintext highlighter-rouge">bindingResult.rejectValue(â€priceâ€, â€œtypeMismatchâ€)</code> ê°€ <strong>ìë™ìœ¼ë¡œ ì ìš©</strong> ëœ ê²ƒ!</li>
      <li>
        <p>ì´ë¥¼ ì²˜ë¦¬í•˜ë ¤ë©´ ê·¸ëƒ¥ ìš°ì„ ìˆœìœ„(Level)ì— ë”°ë¥¸ <strong><code class="language-plaintext highlighter-rouge">typeMismatch</code>ì— ëŒ€í•œ ì˜¤ë¥˜ ë©”ì‹œì§€</strong>ë¥¼ errors.propertiesì— ì¶”ê°€í•´ ì£¼ë©´ ë¨!! (ë§Œì•½ ì„¤ì •í•´ì£¼ì§€ ì•ŠëŠ” ë‹¤ë©´ ìŠ¤í”„ë§ì—ì„œ ìƒì„±í•œ defaultMessage(ê°œë°œììŠ¤ëŸ¬ìš´ ì˜¤ë¥˜ ë©”ì‹œì§€..)ë¡œ ë…¸ì¶œë¨)</p>

        <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="s">typeMismatch.java.lang.Integer=ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</span>
  <span class="s">typeMismatch=íƒ€ì… ì˜¤ë¥˜ì…ë‹ˆë‹¤.</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>ì§€ê¸ˆ ê¹Œì§€ ì•Œì•„ë³¸ <code class="language-plaintext highlighter-rouge">MessageResolver</code>ì˜ ì›ë¦¬ì™€ ë™ì‘ì€ ì‹¤ì œ ìì£¼ ì‚¬ìš©ë˜ëŠ” <strong>Bean Validation</strong>ì—ì„œ êµ‰ì¥íˆ í•µì‹¬ ê°œë…ì„!!</li>
</ul>

<h2 id="validator-ì‚¬ìš©-ê²€ì¦-ë¡œì§-ë¶„ë¦¬">Validator ì‚¬ìš© (ê²€ì¦ ë¡œì§ ë¶„ë¦¬)</h2>

<ul>
  <li>í˜„ì¬ Controllerì˜ ì½”ë“œë¥¼ ë³´ë©´ ì„±ê³µ ë¡œì§ë³´ë‹¤ <strong>ê²€ì¦ ë¡œì§ì´ ì°¨ì§€í•˜ëŠ” ë¶€ë¶„ì´ ë” ë§ìŒ!</strong> ì´ëŸ° ê²½ìš° <strong>ê²€ì¦ ë¡œì§ì„ ë¶„ë¦¬í•´ì„œ ì‹¤í–‰</strong>í•´ì¤„ í•„ìš”ê°€ ìˆìŒ (ë°˜ë³µë˜ëŠ” ì½”ë“œë„ ì¤„ì´ê³ , ë¡œì§ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŒ)</li>
  <li><strong>Version 1</strong> (<code class="language-plaintext highlighter-rouge">Validator</code> ë¥¼ DI ë°›ì•„ ì‚¬ìš©í•˜ê¸°)
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Validator</code> Interface ë¥¼ êµ¬í˜„í•œ <code class="language-plaintext highlighter-rouge">ItemValidator</code> ìƒì„±</li>
      <li><code class="language-plaintext highlighter-rouge">ItemValidator</code>ëŠ” i<strong>tem ê°ì²´ì™€ ê´€ë ¨ëœ ê²€ì¦ ë¡œì§ì„ ìˆ˜í–‰</strong>í•´ì£¼ëŠ” ë¶€ë¶„</li>
      <li>ì¦‰, ê¸°ì¡´ì˜ Controllerì— ìˆë˜ item ê°ì²´ì˜ ê²€ì¦ ë¡œì§ì„ <code class="language-plaintext highlighter-rouge">ItemValidator</code>ë¡œ ì˜®ê²¨ ì£¼ê³ , ì‚¬ìš©í•  ë•ŒëŠ” ê·¸ëƒ¥ <strong><code class="language-plaintext highlighter-rouge">itemValidator</code>ë¥¼ í†µí•´ ê²€ì¦ì„ ìˆ˜í–‰</strong>í•˜ë©´ ë¨</li>
      <li>
        <p><strong>ItemVaidator</strong></p>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nd">@Component</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">ItemValidator</span> <span class="kd">implements</span> <span class="nc">Validator</span> <span class="o">{</span>
        
  	 <span class="nd">@Override</span>
  	 <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">supports</span><span class="o">(</span><span class="nc">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span><span class="o">)</span> <span class="o">{</span>
  		 <span class="k">return</span> <span class="nc">Item</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">isAssignableFrom</span><span class="o">(</span><span class="n">clazz</span><span class="o">);</span> <span class="c1">// ì§€ì›í•˜ëŠ” classì¸ì§€ í™•ì¸ ì—¬ê¸°ì„  item ê°ì²´ë§Œì„ ì‚¬ìš©</span>
  	 <span class="o">}</span>
        
  	 <span class="nd">@Override</span>
  	 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">validate</span><span class="o">(</span><span class="nc">Object</span> <span class="n">target</span><span class="o">,</span> <span class="nc">Errors</span> <span class="n">errors</span><span class="o">)</span> <span class="o">{</span>
  		 <span class="nc">Item</span> <span class="n">item</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Item</span><span class="o">)</span> <span class="n">target</span><span class="o">;</span>
  		  <span class="o">...</span> <span class="c1">//(Controllerì—ì„œ ì‚¬ìš©í–ˆë˜ ê²€ì¦ ë¡œì§ ë¶€ë¶„. bindingResultë¥¼ errorsë¡œ ë°”ê¿”ì£¼ê¸°ë§Œ í•˜ë©´ ë¨)</span>
  	 <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div>        </div>

        <ul>
          <li><code class="language-plaintext highlighter-rouge">supprots</code> ë¥¼ í†µí•´ í•´ë‹¹ ê²€ì¦ ë¡œì§ì´ <strong>í•´ë‹¹ Objectë¥¼ ì§€ì›í•˜ëŠ” ì§€</strong> í™•ì¸ í›„ <code class="language-plaintext highlighter-rouge">validate</code> ë¥¼ í†µí•´ ê²€ì¦ ë¡œì§ ìˆ˜í–‰</li>
          <li><code class="language-plaintext highlighter-rouge">validate</code>ë¥¼ í†µí•´ <strong>ê²€ì¦ë¡œì§ ìˆ˜í–‰</strong>
            <ul>
              <li>ê²€ì¦í–ˆì„ ë•Œ ì˜¤ë¥˜ê°€ ë°œê²¬ë˜ë©´ errors(BindingResult)ì— ë‹´ê¸°ê²Œ ë¨</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p><strong>Controller</strong>ì—ì„œ <code class="language-plaintext highlighter-rouge">ItemValidator</code> ì‚¬ìš©</p>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1">// if (itemValidator.supprot(item)) {</span>
  <span class="n">itemValidator</span><span class="o">.</span><span class="na">validate</span><span class="o">(</span><span class="n">item</span><span class="o">,</span> <span class="n">bindingResult</span><span class="o">);</span>
  <span class="c1">// }</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">bindingResult</span><span class="o">.</span><span class="na">hasErrors</span><span class="o">())</span> <span class="o">{</span>
  	 <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"errors={}"</span><span class="o">,</span> <span class="n">bindingResult</span><span class="o">);</span>
  	 <span class="k">return</span> <span class="s">"validation/v2/addForm"</span><span class="o">;</span>
  <span class="o">}</span>
</code></pre></div>        </div>

        <ul>
          <li><code class="language-plaintext highlighter-rouge">itemValidator</code>ëŠ” DIë¡œ ë°›ì•„ì˜´ â†’ <code class="language-plaintext highlighter-rouge">private final ItemValidator itemValidator;</code></li>
          <li>validateì— <code class="language-plaintext highlighter-rouge">item</code>ê³¼ <code class="language-plaintext highlighter-rouge">bindingResult</code>ë¥¼ ë³´ë‚´ì¤Œ</li>
          <li><code class="language-plaintext highlighter-rouge">bindingResult</code>ëŠ” <code class="language-plaintext highlighter-rouge">Error</code>ì˜ ìì‹ì´ë¯€ë¡œ validateì—ì„œ Errorë¡œì¨ ë™ì‘í•  ìˆ˜ ìˆìŒ. ì¶”ê°€ë¡œ í•´ë‹¹ ê²€ì¦ ë¡œì§ìœ¼ë¡œ ì¸í•œ ì˜¤ë¥˜ê°€ <code class="language-plaintext highlighter-rouge">bindingResult</code>ì— ë‹´ê¸°ê²Œ ë¨</li>
          <li>ì´í›„ ë¡œì§ì€ ë™ì¼</li>
        </ul>
      </li>
      <li>ì´ë ‡ê²Œ í•˜ë©´ ê²€ì¦ë¡œì§ì„ Controllerì™€ ë¶„ë¦¬í•˜ê³  ê¹”ë”í•˜ê²Œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŒ!!</li>
    </ul>
  </li>
  <li><strong>Version 2</strong> (<code class="language-plaintext highlighter-rouge">WebDataBinder</code>, <code class="language-plaintext highlighter-rouge">@Validated</code> ë¥¼ ì‚¬ìš©í•˜ì—¬ <strong>ë” ê°„í¸í•˜ê²Œ ì‚¬ìš©</strong>í•˜ê¸°)
    <ul>
      <li><strong>WebDataBinder</strong>
        <ul>
          <li>ìŠ¤í”„ë§ì˜ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ì˜ ì—­í• ì„ í•´ì£¼ê³  ê²€ì¦ ê¸°ëŠ¥ë„ ë‚´ë¶€ì— í¬í•¨</li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">WebDataBinder</code>ì™€ <code class="language-plaintext highlighter-rouge">@InitBinder</code> ë¥¼ í†µí•´ <strong>í•˜ë‚˜ì˜ Controllerì•ˆì˜ ëª¨ë“  methodì— ë™ì¼í•œ Validatorë¥¼ ì¼ê´„ì ìœ¼ë¡œ ì ìš©</strong>í•´ ì¤„ ìˆ˜ ìˆìŒ</p>

            <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nd">@InitBinder</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">(</span><span class="nc">WebDataBinder</span> <span class="n">dataBinder</span><span class="o">)</span> <span class="o">{</span>
  	 <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"init binder {}"</span><span class="o">,</span> <span class="n">dataBinder</span><span class="o">);</span>
  	 <span class="n">dataBinder</span><span class="o">.</span><span class="na">addValidators</span><span class="o">(</span><span class="n">itemValidator</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div>            </div>

            <ul>
              <li>Controller ê°€ ì‹¤í–‰ ë˜ëŠ” ì‹œì ì— <code class="language-plaintext highlighter-rouge">WebDataBinder</code>ë¥¼ ìƒì„±í•˜ê³  ê·¸ binderì— <code class="language-plaintext highlighter-rouge">itemValidator</code>ë¥¼ ë„£ì–´ì¤Œ</li>
              <li>ê·¸ëŸ¼ ëª¨ë“  method (í•´ë‹¹ Controller ì•ˆ)ì—ì„œ <code class="language-plaintext highlighter-rouge">itemValidator</code> ë¥¼ í†µí•œ ê²€ì¦ ê°€ëŠ¥!</li>
            </ul>
          </li>
        </ul>

        <blockquote>
          <p><strong>ì°¸ê³  (ê¸€ë¡œë²Œ ì„¤ì •)</strong>: ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì— ë‹¤ ì ìš©í•˜ë ¤ë©´ <code class="language-plaintext highlighter-rouge">Application</code>ì— <code class="language-plaintext highlighter-rouge">getValidator()</code> ë¥¼ í†µí•´ ë“±ë¡í•´ì£¼ë©´ ë¨ (ìì£¼ ì•ˆ ì“°ì„)</p>

        </blockquote>
      </li>
      <li><strong>@Validated</strong> (ë“±ë¡ëœ validator ì‚¬ìš©)
        <ul>
          <li>
            <p>ë°”ì¸ë”© ë˜ëŠ” ê°ì²´(ex_<code class="language-plaintext highlighter-rouge">@ModelAttribute</code>)ì— í•´ë‹¹ <strong>ì–´ë…¸í…Œì´ì…˜</strong>ì„ ë‹¬ì•„ì£¼ë©´ (<code class="language-plaintext highlighter-rouge">@Validated @ModelAttribute Item item</code>) ë“±ë¡ëœ <code class="language-plaintext highlighter-rouge">Validator</code>ë¥¼ í†µí•´ ê²€ì¦ ì‹¤í–‰, ì‹¤í–‰ í›„ ì˜¤ë¥˜ê°€ ë°œê²¬ë˜ë©´ ë°”ì¸ë”© ë˜ëŠ” ê°ì²´ ë’¤ì— ë”°ë¼ì˜¤ëŠ” <strong><code class="language-plaintext highlighter-rouge">BindingResult</code>ì— ë‹´ì•„</strong>ì¤Œ!! â†’ ì´ì „ê³¼ ë²„ì „ê³¼ ë™ì¼í•˜ê²Œ ì‹¤í–‰ ê°€ëŠ¥</p>

            <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/add"</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">addItemV6</span><span class="o">(</span>
  	<span class="nd">@Validated</span> <span class="nd">@ModelAttribute</span> <span class="nc">Item</span> <span class="n">item</span><span class="o">,</span> <span class="nc">BindingResult</span> <span class="n">bindingResult</span><span class="o">,</span>
  	<span class="nc">RedirectAttributes</span> <span class="n">redirectAttributes</span><span class="o">)</span> <span class="o">{</span>
            
  	 <span class="c1">// ì˜¤ë¥˜ ê²€ì¶œ ì‹œ ë™ì‘</span>
  	 <span class="k">if</span> <span class="o">(</span><span class="n">bindingResult</span><span class="o">.</span><span class="na">hasErrors</span><span class="o">())</span> <span class="o">{</span>
  		 <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"errors={}"</span><span class="o">,</span> <span class="n">bindingResult</span><span class="o">);</span>
  		 <span class="k">return</span> <span class="s">"validation/v2/addForm"</span><span class="o">;</span>
  	 <span class="o">}</span>
            
  	 <span class="o">...</span> <span class="c1">// ì„±ê³µ ë¡œì§ ë¶€ë¶„</span>
  <span class="o">}</span>
</code></pre></div>            </div>
          </li>
          <li>
            <p>ì¦‰, ëª¨ë“  Controllerì— Methodì—ì„œ ê²€ì¦ì´ ë¬´ì‘ì • ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ <strong><code class="language-plaintext highlighter-rouge">@Validated</code> ê°€ ë‹¬ë¦° ê°ì²´ì— ëŒ€í•´ì„œë§Œ ê²€ì¦ì„ ì‹¤í–‰</strong>í•˜ëŠ” ê²ƒ</p>
          </li>
        </ul>

        <aside>
  âš ï¸ <strong>ë§Œì•½ Validatorê°€ item ë¿ë§Œ ì•„ë‹Œ ë‹¤ë¥¸ ê°ì²´ì— ëŒ€í•´ì„œë„ ì¡´ì¬í•œë‹¤ë©´?</strong> <br />
  ì´ë•Œ Vaidatorì˜ <b><code>support</code> ê°€ ë™ì‘</b>í•˜ëŠ” ê²ƒ! <code>@Validated</code> ê°€ ë‹¬ë¦° ê°ì²´ì— ëŒ€í•´ ë“±ë¡ëœ ëª¨ë“  Validatorì˜ <code>support</code>ë¥¼ í†µí•´ <b>ì§€ì›í•˜ëŠ” Validatorë§Œì„ ì´ìš©í•˜ì—¬ ê²€ì¦ì„ ì‹œí–‰</b>í•˜ëŠ” ê²ƒ!
        
  </aside>
      </li>
    </ul>
  </li>
</ul>

<aside>
ğŸš¨ <strong>ì§€ê¸ˆê¹Œì§€ Validationì— ëŒ€í•´ ë°°ì› ì§€ë§Œ, ì‚¬ì‹¤ ì´ ëª¨ë“  ê²ƒë“¤ì€ Bean Validation ì´ë¼ëŠ” ì–´ë…¸í…Œì´ì…˜ í•˜ë‚˜ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤</strong>

</aside>
:ET