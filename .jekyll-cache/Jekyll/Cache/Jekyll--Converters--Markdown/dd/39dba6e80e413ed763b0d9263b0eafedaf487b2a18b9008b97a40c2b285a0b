I"<h1 id="today-i-developed">Today I Developed</h1>

<p><br /></p>

<h2 id="semogong-개발-일지">SEMOGONG 개발 일지</h2>

<ul>
  <li>Issue 를 바탕으로 개발 진행.</li>
  <li>Issue Labels
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Bug</code> : 구현한 기능들 중에서 서버에 올렸는데 작동하지 않거나 오류가 생김</li>
      <li><code class="language-plaintext highlighter-rouge">Back</code> : Back-End Engineer 만을 위한 이슈</li>
      <li><code class="language-plaintext highlighter-rouge">Front</code> : Front-End Engineer 만을 위한 이슈</li>
      <li><code class="language-plaintext highlighter-rouge">Enhancement</code> : 새로운 기능이 필요한 경우, front back 모두가 손봐야할 이슈</li>
    </ul>
  </li>
</ul>

<h3 id="220418">&lt;220418&gt;</h3>

<blockquote>
  <p><strong>#14</strong> <code class="language-plaintext highlighter-rouge">Back</code> : Member가 이미 그날 공부를 종료했지만, 다시 공부를 시작할 경우에 대한 조치 <br />
<strong>#21</strong> <code class="language-plaintext highlighter-rouge">Front</code> : 새로운 Member 가입과 기존 Member 정보 수정 html이 분리되지 않음 <br />
<strong>#7</strong> <code class="language-plaintext highlighter-rouge">Bug</code> : 로그인이 안된 상태에서 post에 댓글을 달 경우 오류 발생 <br />
<strong>#6</strong> <code class="language-plaintext highlighter-rouge">Back</code> : Posting 삭제 기능 및 삭제 버튼 생성 <br />
<strong>#4</strong> <code class="language-plaintext highlighter-rouge">Front</code> : 여러 입력 placeholder 수정 <br /></p>
</blockquote>

<p><strong>개발 과정</strong></p>

<ul>
  <li><strong>issue #14</strong>
    <ul>
      <li>
        <p>기존의 문제점</p>

        <p>Member가 공부를 종료한 후 다시 공부를 시작하고 싶을 때 공부 기록을 진행하던 글이 불러와지는 것이 아닌, 새로운 글을 작성게끔 설정되어 있었음. 즉, <strong>공부종료를 했지만, 다시 공부를 하는 경우에 대한 예외처리</strong>가 필요했음</p>
      </li>
      <li>
        <p>해결 로직</p>

        <blockquote>
          <p>일단 기본적으로 04시를 하루의 시작과 끝으로 설정 (새벽반 고려) <br />
  사용자가 End -&gt; Studying 으로 State를 변경할 시 (공부완료 -&gt; 공부시작)의 상황</p>

        </blockquote>

        <ol>
          <li>사용자가 현재 쓴 글이 존재하는 지 판단 (즉, 신규 회원인지 아닌지 판단)
            <ul>
              <li>true (쓴 글이 존재)
                <ol>
                  <li>사용자가 가장 최근에 작성한 글이 해당 날짜에 작성한 글이면서 작성 한 시간이 04시 이후인지 판단
                    <ul>
                      <li>true =&gt; 해당 글을 가져와서 이어 작성할 수 있도록 설정</li>
                      <li>false
                        <ol>
                          <li>현재 State 변경 시점이 04시 이전인지 판단
                            <ul>
                              <li>true
                                <ol>
                                  <li>그 전날 작성한 글이 존재하는 지, 해당 글이 04시 이후 작성한 글인지 판단
                                    <ul>
                                      <li>true =&gt; 해당 글을 가져와서 이어 작성할 수 있도록 설정</li>
                                      <li>flase =&gt; 새로운 글 작성</li>
                                    </ul>
                                  </li>
                                </ol>
                              </li>
                              <li>false =&gt; 새로운 글 작성</li>
                            </ul>
                          </li>
                        </ol>
                      </li>
                    </ul>
                  </li>
                </ol>
              </li>
              <li>false =&gt; 새로운 글 작성</li>
            </ul>
          </li>
        </ol>
      </li>
    </ul>
  </li>
  <li>#21
    <ul>
      <li>추후의 bug가 발생할 것을 대비하여 sign up 화면 과 eidt 화면을 분리</li>
      <li>createMemberForm.html → createMemberForm.html + editMemberForm.html</li>
    </ul>
  </li>
  <li>#7
    <ul>
      <li>로그인이 안된 유저가 Post에 댓글을 달 경우, alert (”로그인 후 댓글을 다실 수 있습니다.”) 창을 띄우도록 설정</li>
    </ul>
  </li>
  <li>#6
    <ul>
      <li>임시적으로 DeleteMapping으로 Controller 에 설정한 것이 아닌 GetMapping으로 설정해둠. → 추후 DeleteMapping과 API를 사용하여 해결 예정</li>
      <li>edit 화면에 post 삭제 버튼 생성</li>
    </ul>
  </li>
  <li>#4
    <ul>
      <li>placeholder 수정 (도시를 입력하세요. 등 관련없는 값들이 default값으로 주어 졌었음)</li>
    </ul>
  </li>
</ul>

<h3 id="220420">&lt;220420&gt;</h3>

<blockquote>
  <p><strong>Tag : version 1.0.5</strong> <br />
#10 <code class="language-plaintext highlighter-rouge">Back</code> <code class="language-plaintext highlighter-rouge">Front</code>: State마다 구분할 수 있도록 고유 색 부여 필요 <br />
#11 <code class="language-plaintext highlighter-rouge">Back</code> : 각 Post 당 comment 개수를 인지할 수 있도록 설정 필요 <br />
#16 <code class="language-plaintext highlighter-rouge">Back</code> : Side Widget의 All Members를 Studying→Breaking→End 순으로 정렬 필요 <br />
#18 <code class="language-plaintext highlighter-rouge">Front</code> : 테마 글꼴 설정 필요 <br />
#20 <code class="language-plaintext highlighter-rouge">Front</code> : 통일된 Header 생성 필요 <br />
#24 <code class="language-plaintext highlighter-rouge">Back</code> <code class="language-plaintext highlighter-rouge">Front</code> : 각 Post에 CreateDate 표기 필요 <br /></p>

</blockquote>

<p><strong>개발 과정</strong></p>

<ul>
  <li>#10
    <ul>
      <li>기존의 문제점 : State마다 구분이 안되어 있어, 시각적으로 효율적이지 못함. 즉각 인지하기가 어려움.</li>
      <li>해결 : 각 State에 맞는 색을 부여 (thymeleaf의 if 문법을 사용)</li>
    </ul>
  </li>
  <li>#11
    <ul>
      <li>문제점 : comment를 달 수는 있지만, 각 post에 comment가 달린지 안달린지 외부에서는 확인 불가</li>
      <li>해결 : ViewTemplate에게 DTO를 보내줄 때, DTO안에 Comment Count라는 변수를 추가하여 각 post 당 달린 comment의 개수를 표출해줌. (각 post 우상단에 표현)</li>
    </ul>
  </li>
  <li>#16
    <ul>
      <li>기존에는 이름순으로 정렬했던 All members를 Studying → Breaking → End 순으로 정렬하여 표현</li>
      <li>해결 로직 :
        <ul>
          <li>일단 모든 멤버를 DB에서 가져온 후 Memory 단에서 직접 정렬 실행. → O(N)</li>
          <li>빈 리스트를 생성하여
            <ol>
              <li>모든 멤버를 돌면서 Studying인 멤버 추가</li>
              <li>그 후 또 모든 멤버를 돌면서 Breaking인 멤버 추가</li>
              <li>그 후 마지막으로 모든 멤버를 돌면서 End인 멤버 추가</li>
            </ol>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>#18
    <ul>
      <li>Body에 font-family를 NanumSquareRound 적용 → 기존보다 훨씬 보기 좋아짐</li>
    </ul>
  </li>
  <li>#20
    <ul>
      <li>통일된 header,footer를 만든 후 모든 html이 fragment로 받아올 수 있도록 설정</li>
      <li>edit,create 화면 같은 경우 bootstarp 이외의 css를 받으면 안되므로 addheader를 추가로 생성하여 home.html이 fragment로 받도록 설정</li>
    </ul>
  </li>
  <li>#24
    <ul>
      <li>Post Entity에 FormatCreateDate를 추가하여 LocalDateTime class가 아닌 String으로 DB에 해당 날짜를 원하는 format 형식으로 저장할 수 있도록 설정 (“April 14, 2022” 형식으로 저장)</li>
      <li>그 후 DTO에도 FormatCreateDate를 추가하여 ViewTemplate에 값을 전달할 수 있도록 설정</li>
      <li>각 post 좌상단에 표기</li>
    </ul>
  </li>
</ul>

<h3 id="220425">&lt;220425&gt;</h3>

<blockquote>
  <p><strong>Tag : version 1.0.6</strong>
#32 <code class="language-plaintext highlighter-rouge">Enhancement</code> : Comment 작성 시간 표시
#35 <code class="language-plaintext highlighter-rouge">Bug</code> <code class="language-plaintext highlighter-rouge">Back</code> : State 변경 시 오류 <em>**</em>
#36 <code class="language-plaintext highlighter-rouge">Front</code> : 글 및 댓글 삭제 시 Confirm</p>

</blockquote>

<p>개발 과정</p>

<ul>
  <li>#32
    <ul>
      <li>기존 문제점 : 댓글을 작성했을 때, 해당 댓글이 언제 달린 건지 구분이 안될 때가 있었음. → 댓글이 언제 달린 것인지 표기 필요</li>
      <li>해결 : 댓글이 달린 시간 표기
        <ul>
          <li>
            <p>로직 : CommetViewDto에서 댓글이 달린 시간인 CreateDateTime과 현재 시간인 LocalDateTime.now()의 초차이 를 Duration.between을 통해 계산하여 해당 DTO에 저장하고 veiwTemplate에 보내준 후, ViewTemplate(Thymeleaf) 안에서</p>

            <ol>
              <li>60분이 지나지 않았으면 ‘x분 전’으로</li>
              <li>60분이 지났고 24시간이전이면  ‘x시간 전’으로</li>
              <li>24시간이 지났으면 ‘x일 전’으로 표기</li>
            </ol>
          </li>
          <li>
            <p>이때, Thmeleaf에서 Math.round를 적용하기 위해 ThymeMath Component를 생성하여 스프링 빈으로 등록 → 빈으로 등록된 Object는 Thymeleaf 에서 <code class="language-plaintext highlighter-rouge">@thymeMath</code> 형태로 사용 가능.</p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>#35
    <ul>
      <li>기존 문제점 : State 변경 오류 시 별 다른 오류 처리 없이 그냥 홈으로 돌아가게 설정 → 변경되었는지, 오류가 난지 사용자가 인지하기 어려움</li>
      <li>해결 : State 변경 오류 시 alert을 통해 잘못된 state 변경이라고 알려줌
        <ul>
          <li>
            <p>로직 : ViewTemplate(Thymeleaf) 에서 현재 state 값을 받아온 후</p>

            <table>
              <tbody>
                <tr>
                  <td>( Studying -&gt; Studying</td>
                  <td>Breaking, End -&gt; Breaking</td>
                  <td>End -&gt; End ) 와 같은 변경 오류에 대해서 if 절을 통해 alert을 띄울 수 있도록 설정</td>
                </tr>
              </tbody>
            </table>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>#36
    <ul>
      <li>기존 문제점 :  글 및 댓글 삭제 시 “삭제” 버튼을 누르면 그냥 바로 삭제 됨 → 사용자가 실수로 삭제를 누르는 경우에 대한 처리가 필요.</li>
      <li>해결 :
        <ul>
          <li>
            <p>로직 : 바로 a 태그로 삭제 URL로 요청을 보내는 것이 아닌, button으로 바꾼 후 onclick으로 javascript delete_check 함수를 통해 confirm할 수 있도록 설정</p>

            <p>detele_check : 인자로 삭제하고자 하는 Entity의 id를 받아오고 confrim 진행. confirm에서 확인을 누를 시 location.href 를 통해 delete 요청을 진행. 취소를 누를 시 아무동작하지 않도록 설정</p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="220427">&lt;220427&gt;</h3>

<blockquote>
  <p><strong>Tag : version 1.0.7</strong>
#28 <code class="language-plaintext highlighter-rouge">Enhancement</code> : Post Image 변경 시  변경된 이미지 띄워주기
#31 <code class="language-plaintext highlighter-rouge">Back</code> : 희망직무 선택지 부여 (선택지에 원하는 직무가 없을 시 직접 추가)
#15 <code class="language-plaintext highlighter-rouge">Front</code> : OG 태그 부여</p>

</blockquote>

<p>개발 로직</p>

<ul>
  <li>#28
    <ul>
      <li>기존 문제점 : 현재 이미지의 이름만을 알려주고, 현재 이미지 자체를 보여 주진 않았음. 또한, Upload 시 바로 변경이 반영되지 않은 채로 edit을 진행하게 설정함</li>
      <li>해결 : 이미지를 띄워주고 Upload 시 바로 변경하여 변경된 이미지를 보여줄 수 있도록 설정 필요
        <ul>
          <li>
            <p>Upload 버튼을 누를 시 a 태그를 통해 바로 img upload 로직을 실행하는 것이 아닌, onclick=’upload_check()’을 통해 javascript 코드를 거쳐 진행되도록 설정</p>

            <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">function</span> <span class="nx">upload_check</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Upload완료 되었습니다!</span><span class="dl">"</span><span class="p">);</span><span class="nx">location</span><span class="p">.</span><span class="nx">reload</span><span class="p">();},</span><span class="mi">500</span><span class="p">);</span>
  <span class="p">}</span> <span class="c1">// 0.5초 후에 자동으로 페이지가 reload 되도록 설정. -&gt; reload 되면 변경된 정보를 띄울 수 있음.</span>
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>#31
    <ul>
      <li>기존 문제점 : 희망 직무의 선택지를 주지 않아, 정해진 형식 없이 희망 직무를 적게 됨 → 똑같은 직무라도 사용자마다 다른 이름으로 설정하는 경우가 발생</li>
      <li>
        <p>해결 : ViewTemplate 에 jobs 라는 설정된 직무 List를 넘겨줘 datalist로 선택할 수 있도록 설정 + 원하는 직무가 없으면 직접 적을 수 있도록 Input을 text로 설정</p>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">DesiredJob</span> <span class="o">{</span>
      <span class="kd">static</span> <span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">jobList</span> <span class="o">=</span>  <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"백엔드 엔지니어"</span><span class="o">,</span> <span class="s">"데이터 엔지니어"</span><span class="o">,</span> <span class="s">"ML 엔지니어"</span><span class="o">,</span> <span class="s">"프론트엔드 엔지니어"</span><span class="o">);</span>
      <span class="kd">public</span> <span class="kd">static</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getJobList</span><span class="o">()</span> <span class="o">{</span>
          <span class="k">return</span> <span class="n">jobList</span><span class="o">;</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div>        </div>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"input-group mb-3"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">**type=</span><span class="s">"text"</span><span class="na">**</span> <span class="na">autocomplete=</span><span class="s">"off"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">list=</span><span class="s">"datalistOptions"</span> <span class="na">th:field=</span><span class="s">"*{desiredJob}"</span> <span class="na">placeholder=</span><span class="s">"희망 직무를 선택하거나 입력하세요!"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;</span><span class="na">**datalist**</span> <span class="na">id=</span><span class="s">"datalistOptions"</span> <span class="nt">&gt;</span>
          <span class="nt">&lt;th:block</span> <span class="na">**th:each=</span><span class="s">"job : ${jobs}"</span><span class="na">**</span><span class="nt">&gt;</span>
              <span class="nt">&lt;option</span> <span class="na">**th:value=</span><span class="s">"${job}"</span><span class="na">**</span><span class="nt">&gt;</span>
          <span class="nt">&lt;/th:block&gt;</span>
      <span class="nt">&lt;/</span><span class="err">**</span><span class="nt">datalist</span><span class="err">**</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>#15
    <ul>
      <li>기존 문제점 : 링크를 공유해도 정해진 형식 없이 이상한 형태로 공유 화면이 띄워짐</li>
      <li>
        <p>해결 : Og 태그를 통해서 정해진 깔끔한 형식으로 공유될 수 있도록 설정</p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:title"</span> <span class="na">content=</span><span class="s">"세모공 - 세상의 모든 공부"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:url"</span> <span class="na">content=</span><span class="s">"http://semogong.site/"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:type"</span> <span class="na">content=</span><span class="s">"website"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:image"</span> <span class="na">content=</span><span class="s">"https://semogong-bucket.s3.ap-northeast-2.amazonaws.com/SEMOGONG.jpg"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:description"</span> <span class="na">content=</span><span class="s">"TIL 공유 사이트, 오늘 한 공부를 공유해보세요!"</span> <span class="nt">/&gt;</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h3 id="220501">&lt;220501&gt;</h3>

<blockquote>
  <p>#2 <code class="language-plaintext highlighter-rouge">Enhancement</code> : Comment 작성 시 모달 유지</p>

</blockquote>

<p><strong>개발 로직</strong></p>

<ul>
  <li>#2
    <ul>
      <li>기존 문제점 : Post 클릭 시 생성되는 모달에서 댓글을 작성할 시 작성 후 submit 을 클릭할 경우 modal 이기에 작성된 댓글을 확인하려면 home으로 reload됨. → 작성 후 현재 모달을 유지하면서 작성된 댓글목록만을 reload할 필요가 있음</li>
      <li>해결 : Ajax Web API 요청을 통해 comment를 post하고 해당 결과 값을 fragment된 html로 받아와 기존 fragment를 변경하는 방식으로 진행
        <ul>
          <li>
            <p><code class="language-plaintext highlighter-rouge">@PostMapping("/comment/api/new/{id}")</code> 를 ajax의 post 요청으로 mapping</p>

            <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">function</span> <span class="nx">submit_comment</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
            
      <span class="kd">var</span> <span class="nx">commentForm</span> <span class="o">=</span> <span class="p">{</span>
          <span class="na">postId</span> <span class="p">:</span> <span class="nx">id</span><span class="p">,</span>
          <span class="na">comment</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#comment_content</span><span class="dl">"</span><span class="o">+</span><span class="nx">id</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
      <span class="p">};</span>
            
      <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
          <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">comment/api/new/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">,</span>
          <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">data</span><span class="p">:</span> <span class="nx">commentForm</span><span class="p">,</span>
      <span class="p">})</span>
          <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">fragment</span><span class="p">)</span> <span class="p">{...}</span>
</code></pre></div>            </div>

            <ul>
              <li>fragment는 모달의 일부분인 commentList 를 replace하기 위한 렌더링된 html 파일</li>
              <li>즉, post가 완료되면 새로 갱신된 해당 Post의 comment list (방금 작성된 댓글을 추가한 댓글 리스트)를 렌더링한 html 파일을 받아와 이를 기존의 comment list와 교체. → 작성된 댓글을 url reload 필요 없이 바로 확인 가능</li>
            </ul>
          </li>
          <li>fragment는 thymeleaf에서 제공하는 html 일부만을 반환해주는 기능 사용 : <code class="language-plaintext highlighter-rouge">return "components/commentList :: #commentPart";</code> → 해당 id를 가진 요소만 반환해줌.</li>
          <li>
            <p>반환된 fragment로 기존 요소를 교체한 후, id를 새로 할당 → 모달이기에, 다른 post들의 commentPart와 구분하기 위함.</p>

            <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">var</span> <span class="nx">commentPart</span> <span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">commentPart</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">commentPart</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">commentPart</span><span class="dl">"</span><span class="o">+</span><span class="nx">id</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</code></pre></div>            </div>

            <aside>
  🚨 controller의 각 mapping return 의 fragment 값에 id를 넣으면 안되는 이유
            
  1. return "components :: #commentList" + id.toString(); -&gt; 될 것 같지만 사실 지금 우리는 각 요소의 id 값에 thymeleaf로 값을 할당 하고 있음 (th:id="${post.id}")
  2. 하지만 이는 렌더링 후에 값이 할당되어 완성 되는 것.
  3. 즉 controller에서 viewtemplate을 통한 html fragment search 시점에는 값이 할당되어 있지 않다는 것.
  4. 그러므로 id 값으로 return을 주어 viewtemplate을 통해 해당 fragment를 찾아낼 수 없음
  5. 이는 id값을 추후에 변경하면 됨 ( `setAttribute(”id”, ... )` )
  </aside>
          </li>
          <li>또한, 변경된 사항을 modal 뿐만아닌, home의 해당 post의 comment 개수에도 반영해줄 필요가 있음 → 해당 post id를 가진 post의 comment 개수를 표현하는 요소를 replace 해줌</li>
          <li>또한, recent post라고 현재 자신이 작성 중(공부를 end하지 않은 상태의 post)인 post를 보여주는 기능이 있기 때문에, 댓글 작성이 이루어진 post가 그 recent post와 동일할 경우 recent post 또한 위의 과정을 적용 (comment 개수 변경)</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="220502">&lt;220502&gt;</h3>

<blockquote>
  <p>#25 <code class="language-plaintext highlighter-rouge">Enhancement</code> : 누적공부시간 통계 대시보드</p>

</blockquote>

<p><strong>개발 로직</strong></p>

<ul>
  <li>#25
    <ul>
      <li>기존의 문제점 : 내가 일주일동안 얼만큼 공부를 하고 있는지에 대한 정보가 없어, 동기부여가 부족. 일주일 동안의 누적 공부시간 통계량을 대시보드를 통해 사용자들끼리 비교하여 보여주면 동기부여하는 데에 좋은 효과가 있을 것이라고 판단</li>
      <li>해결 : 분석 툴은 파이썬이 더 익숙하기에 파이썬의 matplot을 통해 시간을 계산하고 ploting. 그 후 해당 결과를 이미지로 저장하여 S3에 저장하고, 웹에서는 해당 이미지를 불러와 보여주는 형식으로 진행. (Side Widget의 Statics, Nav bar의 Data 부분)</li>
      <li>추후 해결 : D3.js 와 같은 툴을 사용하여 좀 더 시각적 효율성을 극대화할 예정</li>
    </ul>
  </li>
</ul>

<h3 id="220503">&lt;220503&gt;</h3>

<blockquote>
  <p>#2 <code class="language-plaintext highlighter-rouge">Enhancement</code> : Post 수정 시 모달 유지
#28 <code class="language-plaintext highlighter-rouge">Enhancement</code> : 이미지 Upload 시 API로 보낼 수 있도록 설정</p>

</blockquote>

<p><strong>개발 로직</strong></p>

<ul>
  <li>#2
    <ul>
      <li>기존의 문제점: comment 작성 시 에 모달을 유지할 필요가 있다고 판단하여 해당 기능을 적용, 하지만 post 또한 수정 후 submit을 누르면 변경된 사항을 확인하기 위해서는 home으로 돌아가야 되고, modal이 내려가는 현상 발생 → edit 후 바로 그 모달 자체에서 확인할 수 있도록 설정 필요 (comment에서의 문제와 유사)</li>
      <li>해결: 이 또한 comment 작성 시 동작하는 로직과 유사하게 진행 → Ajax Web API 요청을 통해 post eidt을 Post하고 해당 결과 값을 fragment된 html로 받아와 기존 fragment를 변경하는 방식으로 진행 (새 글 작성은 모달이 아닌, 기존 폼으로 보여주도록 설정)
        <ul>
          <li>post는 get, post 모두 Ajax api로 요청 (edit 버튼을 누를 경우 또한 모달안에서 수정 및 수정 완료 후 변경 사항 확인을 위함)</li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">@GetMapping("/posts/edit/{id}")</code> 을 Ajax api로 요청하도록 설정 (게시글 수정 폼)</p>

            <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">function</span> <span class="nx">edit_post</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
          <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">posts/edit/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">,</span>
          <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">})</span>
          <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">fragment</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#postModal_content</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span><span class="nx">fragment</span><span class="p">);</span>
              <span class="nx">simplemde</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SimpleMDE</span><span class="p">({</span><span class="na">element</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">content</span><span class="dl">"</span><span class="p">),</span><span class="na">spellChecker</span><span class="p">:</span> <span class="kc">false</span><span class="p">});</span>
              <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">postEdit_container</span><span class="dl">"</span><span class="p">).</span><span class="nx">scrollIntoView</span><span class="p">();</span>
          <span class="p">});</span>
  <span class="p">}</span>
</code></pre></div>            </div>

            <ul>
              <li>똑같이 기존 내용을 fragment로 받아 온 editForm html(<code class="language-plaintext highlighter-rouge">return "post/editPostForm :: #postEdit_container";</code>)로 교체</li>
              <li>교체 후 markdown editor 추가.</li>
              <li>상단으로 스크롤 자동 이동</li>
            </ul>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge">@PostMapping("/posts/edit/{id}")</code> 을 Ajax api로 요청하도록 설정 (게시글 수정)</p>

            <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">function</span> <span class="nx">post_edit</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">formData</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#formPost</span><span class="dl">"</span><span class="p">).</span><span class="nx">serializeArray</span><span class="p">();</span>
      <span class="nx">formData</span><span class="p">[</span><span class="nx">formData</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">simplemde</span><span class="p">.</span><span class="nx">value</span><span class="p">();</span> <span class="c1">// content</span>
  		<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  		            <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/posts/edit/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">,</span>
  		            <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  		            <span class="na">data</span><span class="p">:</span> <span class="nx">formData</span>
  		        <span class="p">})</span>
  		            <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">fragment</span><span class="p">)</span> <span class="p">{...}</span>
  <span class="p">}</span>
</code></pre></div>            </div>

            <ul>
              <li>form에 있는 데이터들을 반영하기 위해 form의 입력된 모든 데이터를 serializeArray를 통해 받아옴</li>
              <li>여기서 simplemde를 사용하면서 content의 내용이 serializeArray에 담겨오지 않아 직접 simplemde에 입력된 값을 form안의 content에 넣어줌</li>
              <li>이후는 위의 comment 변경 로직과 동일하게 진행 (ajax api, fragment replace, setAttribute(id), recentpost, …)</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="220504">&lt;220504&gt;</h3>

<blockquote>
  <p><strong>Tag : version 1.0.8</strong> 
#2 <code class="language-plaintext highlighter-rouge">Bug</code> : post edit에서 시간 변경 시 반영되지 않는 bug 수정, comment 삭제, post 삭제 시 모달 유지</p>

</blockquote>

<ul>
  <li>#2
    <ul>
      <li>기존의 문제점: post를 edit할 때, main(home) 화면의 title, introduce는 수정되지만, 변경된 time이 반영되지 않음. → 또 times들에 대해 replace 해줄 필요 있음
  또한, comment 삭제, post 삭제도 <strong>RestAPI</strong>로 교체 필요</li>
      <li>해결: 기존 main 화면의 해당 post의 times에 정보를 나타내고 있는 요소를 빈 요소로 replace하고 변경된 시간에 따른 요소들을 append하는 방식으로 진행
        <ul>
          <li>
            <p>시간에 따른 보여주는 로직은 기존의 로직과 동일</p>

            <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#post_times</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span>
                          <span class="dl">'</span><span class="s1">&lt;div id="post_times</span><span class="dl">'</span><span class="o">+</span> <span class="nx">id</span> <span class="o">+</span><span class="dl">'</span><span class="s1">" class="card-text overflow-hidden d-sm-flex" style="margin: 2px 0px 0px 0px; max-width: 100%;"&gt;&lt;/div&gt;</span><span class="dl">'</span>
                      <span class="p">)</span>
  <span class="kd">var</span> <span class="nx">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">times</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">+=</span><span class="mi">2</span><span class="p">,</span> <span class="nx">cnt</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">cnt</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#post_times</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span>
              <span class="dl">'</span><span class="s1">&lt;p class="badge" style="margin: 3px; background-color:#8AA6A3;"&gt;</span><span class="dl">'</span> <span class="o">+</span>
              <span class="nx">times</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">value</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;nbsp;~&amp;nbsp;</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">times</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span>
              <span class="o">+</span> <span class="dl">'</span><span class="s1">&lt;/p&gt;</span><span class="dl">'</span>
          <span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#post_times</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span>
              <span class="dl">'</span><span class="s1">&lt;p class="badge" style="margin: 3px; background-color:#A1A185;"&gt;</span><span class="dl">'</span> <span class="o">+</span>
              <span class="nx">times</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">value</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;nbsp;~&amp;nbsp;</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">times</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span>
              <span class="o">+</span> <span class="dl">'</span><span class="s1">&lt;/p&gt;</span><span class="dl">'</span>
          <span class="p">);</span>
      <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">times</span><span class="p">.</span><span class="nx">length</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">((</span><span class="nx">times</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#post_times</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span>
              <span class="dl">'</span><span class="s1">&lt;p class="badge" style="margin: 3px; background-color:#A1A185;"&gt;</span><span class="dl">'</span> <span class="o">+</span>
              <span class="nx">times</span><span class="p">[</span><span class="nx">times</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">value</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;nbsp;~</span><span class="dl">'</span>
              <span class="o">+</span> <span class="dl">'</span><span class="s1">&lt;/p&gt;</span><span class="dl">'</span>
          <span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#post_times</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span>
              <span class="dl">'</span><span class="s1">&lt;p class="badge" style="margin: 3px; background-color:#8AA6A3;"&gt;</span><span class="dl">'</span> <span class="o">+</span>
              <span class="nx">times</span><span class="p">[</span><span class="nx">times</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">value</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;nbsp;~</span><span class="dl">'</span>
              <span class="o">+</span> <span class="dl">'</span><span class="s1">&lt;/p&gt;</span><span class="dl">'</span>
          <span class="p">);</span>
      <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>            </div>
          </li>
          <li>
            <p>comment, post 삭제 요청을 RestAPI로 교체</p>

            <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">function</span> <span class="nx">post_delete_check</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">check</span> <span class="o">=</span> <span class="nx">confirm</span><span class="p">(</span><span class="dl">"</span><span class="s2">정말 삭제하시겠습니까?</span><span class="dl">"</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">check</span><span class="p">){</span>    <span class="c1">//확인</span>
          <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">삭제가 완료 되었습니다.</span><span class="dl">"</span><span class="p">)</span>
          <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
              <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">posts/delete/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">,</span>
              <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span>
          <span class="p">})</span>
              <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                  <span class="nx">location</span><span class="p">.</span><span class="nx">reload</span><span class="p">();</span>
              <span class="p">})</span>
      <span class="p">}</span><span class="k">else</span><span class="p">{</span>   <span class="c1">//취소</span>
          <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>            </div>

            <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">function</span> <span class="nx">delete_check</span><span class="p">(</span><span class="nx">postId</span><span class="p">,</span> <span class="nx">commentId</span><span class="p">)</span> <span class="p">{</span>
            
      <span class="kd">var</span> <span class="nx">deleteForm</span> <span class="o">=</span> <span class="p">{</span>
          <span class="na">postId</span> <span class="p">:</span> <span class="nx">postId</span><span class="p">,</span>
          <span class="na">commentId</span> <span class="p">:</span> <span class="nx">commentId</span>
      <span class="p">};</span>
            
      <span class="kd">var</span> <span class="nx">check</span> <span class="o">=</span> <span class="nx">confirm</span><span class="p">(</span><span class="dl">"</span><span class="s2">정말 삭제하시겠습니까?</span><span class="dl">"</span><span class="p">);</span>
            
      <span class="k">if</span> <span class="p">(</span><span class="nx">check</span><span class="p">){</span> <span class="c1">//확인</span>
          <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
              <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">comment/delete/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">commentId</span><span class="p">,</span>
              <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span><span class="p">,</span>
              <span class="na">data</span><span class="p">:</span> <span class="nx">deleteForm</span>
          <span class="p">})</span>
              <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">fragment</span><span class="p">)</span> <span class="p">{...}</span>
  <span class="p">}</span>
</code></pre></div>            </div>

            <ul>
              <li>post를 삭제할 때는 삭제 후 바로 home으로 가면 되지만, comment는 삭제해도 모달을 유지하며 해당 삭제를 반영한 상태의 comment list를 새로 보여줄 필요가 있기에 삭제 후 comment list(삭제된 후의 comment list)를 fragment로 받아와 replace 진행</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="220505">&lt;220505&gt;</h3>

<blockquote>
  <p><strong>Tag : version 1.0.9</strong> 
#39 <code class="language-plaintext highlighter-rouge">Enhancement</code> : 실시간 학습 시간 기능 추가</p>

</blockquote>

<ul>
  <li>#39
    <ul>
      <li>기존의 문제점 : 학습 시간이 기록은 되었지만, 이를 그저 시간으로만 보여주어서 사용자가 오늘 하루 얼마나 공부를 했는지 직접 계산하거나 놓치는 경우가 발생</li>
      <li>해결: 프로그램상으로 자동 계산하여 지속적으로 지금까지 자신이 하루 얼마나 공부를 진행했는지 확인할 수 있도록 설정
        <ul>
          <li><code class="language-plaintext highlighter-rouge">getTotalStudyTimes</code>, <code class="language-plaintext highlighter-rouge">getTimes</code>를 통해 현재 상황에 맞는 시간 계산 진행</li>
          <li>
            <p>로직 :</p>

            <p>조회 시간 기준 (home으로 이동)</p>

            <ol>
              <li>04:00 - 24:00
                <ul>
                  <li>그 member의 가장 최신 글 search
                    <ol>
                      <li>해당 member의 최신글이 당일 4시 이후 create 되었다</li>
                    </ol>
                    <ul>
                      <li>가져와서 times 계산
    2. 당일 4시 이전 → 어제 글이라 판단</li>
                      <li>“공부를 시작하지 않았습니다” 출력</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li>00:00 - 04:00
                <ul>
                  <li>그 member의 가장 최신 글 search
                    <ol>
                      <li>해당 member의 최신글이 당일 create</li>
                    </ol>
                    <ul>
                      <li>가져와서 times 계산
    2. 전날 create
                        <ol>
                          <li>04시이후 create</li>
                        </ol>
                        <ul>
                          <li>가져와서 times 계산
      2. 04시 이전 create</li>
                          <li>“공부를 시작하지 않았습니다” 출력</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ol>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="220506">&lt;220506&gt;</h3>

<blockquote>
  <p><strong>Tag : version 1.0.10</strong> 
#2 <code class="language-plaintext highlighter-rouge">Bug</code> : 댓글 submit enter 입력할 수 있도록 설정, apple에서의 오류 수정
#39 <code class="language-plaintext highlighter-rouge">Enhancement</code> : post edit 시에도 실시간 학습 시간이 변경되도록</p>

</blockquote>

<ul>
  <li>#2
    <ul>
      <li>기존의 문제점: input에 onkeyup을 사용할 경우 apple기기에서 한글로 작성할 경우 해당 연결된 javascript 함수가 연속해서 2번 작동하는 오류 발생</li>
      <li>해결: onkeyup을 모두 onkeypress로 변경</li>
    </ul>
  </li>
  <li>#39
    <ul>
      <li>기존의 문제점 : post eidt 시 실시간 학습 시간은 변경되지 않았음</li>
      <li>해결 :
        <ul>
          <li>post edit 시 변경된 시간을 받아와 그 순간 javascript 안에서 현재 학습 시간 계산 로직(위에서 작성한 로직)을 통해 현재까지의 학습시간을 반영하여 변경.</li>
          <li>이 또한 replace를 통해 요소를 현재 변경된 요소로 교체.</li>
        </ul>

        <aside>
  🚨 모든 post edit에 대해서 적용되면 안되기에 해당 edit한 post가 조건에 맞는 post일 경우에만 로직 적용 (focusedPostId → 최근에 작성된 post의 id, recentPost는 현재 사용자가 end일 경우에는 반환되지 않기에 focusedPost를 새로 지정)
        
  </aside>
      </li>
    </ul>
  </li>
</ul>

<h3 id="220507">&lt;220507&gt;</h3>

<blockquote>
  <p>#39 <code class="language-plaintext highlighter-rouge">Front</code> : 실시간 학습 시간 reload 기능 추가
#39 <code class="language-plaintext highlighter-rouge">Bug</code> : 23시, 00시의 차이 오류 해결</p>

</blockquote>

<p>#39</p>

<ul>
  <li>기존의 문제점 : 현재 공부시간을 확인하려면 무조건 home을 reload해야 되는 비효율적인 방법을 선택해야 했음. → 네트워크, 렌더링 과부화 가능</li>
  <li>
    <p>해결 : 학습 시간 자체에 reload 버튼을 추가하여 버튼을 클릭할 경우 ajax api 통신을 통해 해당 계산된 학습 시간만 받아와 렌더링 할 수 있도록 설정</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">function</span> <span class="nx">reload_times</span><span class="p">(</span><span class="nx">memberId</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
          <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">members/times/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">memberId</span><span class="p">,</span>
          <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span>
      <span class="p">})</span>
          <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#member_time</span><span class="dl">'</span><span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span>
                  <span class="dl">'</span><span class="s1">&lt;div id="member_time"&gt; 오늘의 학습 시간 : </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">hour</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">시간 </span><span class="dl">'</span><span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">min</span> <span class="o">+</span><span class="dl">'</span><span class="s1">분 &lt;/div&gt;</span><span class="dl">'</span>
              <span class="p">)</span>
          <span class="p">})</span>
  <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="220508">&lt;220508&gt;</h3>

<blockquote>
  <p><strong>Tag : version 1.0.11</strong> 
#39 <code class="language-plaintext highlighter-rouge">Enhancement</code> : 실시간 학습 시간 reload 버튼 애니메이션 추가</p>

</blockquote>

<ul>
  <li>#39
    <ul>
      <li>기존의 문제점: 실시간 학습 시간 reload 버튼을 눌러도 잘 눌려졌는지를 확인할 방법이 없었음 → alert을 하려했지만, alert은 뜨면 꺼야된다는 귀찮음 확인</li>
      <li>
        <p>해결 : reload 버튼을 누를경우, reload img 가 360도 rotate 되면서 시각적으로 재부팅 되는 효과 제공 → <code class="language-plaintext highlighter-rouge">&lt;img id="reload" src="/images/reload.png" height="20px" width="20px"&gt;</code></p>

        <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nc">.reload</span> <span class="p">{</span>
      <span class="nl">transform</span><span class="p">:</span>             <span class="n">rotate</span><span class="p">(</span> <span class="m">360deg</span> <span class="p">);</span>
      <span class="nl">-moz-transform</span><span class="p">:</span>    <span class="n">rotate</span><span class="p">(</span> <span class="m">360deg</span> <span class="p">);</span>
      <span class="nl">-ms-transform</span><span class="p">:</span>     <span class="n">rotate</span><span class="p">(</span> <span class="m">360deg</span> <span class="p">);</span>
      <span class="nl">-o-transform</span><span class="p">:</span>      <span class="n">rotate</span><span class="p">(</span> <span class="m">360deg</span> <span class="p">);</span>
      <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span> <span class="m">360deg</span> <span class="p">);</span>
      <span class="nl">transition</span><span class="p">:</span>             <span class="n">transform</span> <span class="m">1000ms</span> <span class="n">ease</span><span class="p">;</span>
      <span class="nl">-moz-transition</span><span class="p">:</span>    <span class="n">-moz-transform</span> <span class="m">1000ms</span> <span class="n">ease</span><span class="p">;</span>
      <span class="nl">-ms-transition</span><span class="p">:</span>     <span class="n">-ms-transform</span> <span class="m">1000ms</span> <span class="n">ease</span><span class="p">;</span>
      <span class="nl">-o-transition</span><span class="p">:</span>      <span class="n">-o-transform</span> <span class="m">1000ms</span> <span class="n">ease</span><span class="p">;</span>
      <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">-webkit-transform</span> <span class="m">1000ms</span> <span class="n">ease</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>        </div>

        <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">var</span> <span class="nx">rotate</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">reload</span><span class="dl">'</span><span class="p">)</span>
        
  <span class="k">if</span> <span class="p">(</span><span class="nx">rotate</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">rotate</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">reload</span><span class="dl">'</span><span class="p">;</span>
          <span class="nb">window</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
              <span class="nx">rotate</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="dl">''</span>
          <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
      <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>
:ET